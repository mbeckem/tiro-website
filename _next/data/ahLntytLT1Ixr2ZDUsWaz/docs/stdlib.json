{"pageProps":{"slug":"stdlib","frontMatter":{"title":"The standard library","slug":"/stdlib"},"mdx":{"compiledSource":"var u=Object.defineProperty,h=Object.defineProperties;var m=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;var l=(a,n,t)=>n in a?u(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,e=(a,n)=>{for(var t in n||(n={}))p.call(n,t)&&l(a,t,n[t]);if(i)for(var t of i(n))o.call(n,t)&&l(a,t,n[t]);return a},s=(a,n)=>h(a,m(n));var c=(a,n)=>{var t={};for(var r in a)p.call(a,r)&&n.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&i)for(var r of i(a))n.indexOf(r)<0&&o.call(a,r)&&(t[r]=a[r]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var r=t,{components:a}=r,n=c(r,[\"components\"]);return mdx(MDXLayout,s(e(e({},layoutProps),n),{components:a,mdxType:\"MDXLayout\"}),mdx(\"h1\",e({},{id:\"the-standard-library\"}),mdx(\"a\",e({parentName:\"h1\"},{className:\"anchor-link\",href:\"#the-standard-library\"}),\"#\"),\"The standard library\"),mdx(\"p\",null,\"Basic types and functions provided by the runtime.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`import std;\n`)),mdx(\"h2\",e({},{id:\"contents\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"anchor-link\",href:\"#contents\"}),\"#\"),\"Contents\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#basic-types-and-functions\"}),\"Basic types and functions\")),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-boolean\"}),\"type Boolean\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-integer\"}),\"type Integer\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-float\"}),\"type Float\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-null\"}),\"type Null\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-symbol\"}),\"type Symbol\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-function\"}),\"type Function\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-module\"}),\"type Module\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-nativeobject\"}),\"type NativeObject\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-nativepointer\"}),\"type NativePointer\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-type\"}),\"type Type\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-type_of\"}),\"func type_of\")))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#containers\"}),\"Containers\")),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-tuple\"}),\"type Tuple\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-record\"}),\"type Record\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-array\"}),\"type Array\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-buffer\"}),\"type Buffer\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-map\"}),\"type Map\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-set\"}),\"type Set\")))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#strings\"}),\"Strings\")),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-string\"}),\"type String\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-stringslice\"}),\"type StringSlice\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-stringbuilder\"}),\"type StringBuilder\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-new_string_builder\"}),\"func new_string_builder\")))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#floating-point-math\"}),\"Floating point math\")),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#const-pi\"}),\"const PI\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#const-tau\"}),\"const TAU\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#const-e\"}),\"const E\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-abs\"}),\"func abs\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-pow\"}),\"func pow\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-log\"}),\"func log\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-sqrt\"}),\"func sqrt\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-round\"}),\"func round\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-ceil\"}),\"func ceil\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-floor\"}),\"func floor\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-sin\"}),\"func sin\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-cos\"}),\"func cos\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-tan\"}),\"func tan\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-asin\"}),\"func asin\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-acos\"}),\"func acos\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-atan\"}),\"func atan\")))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#input-and-output\"}),\"Input and output\")),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-print\"}),\"func print\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-debug_repr\"}),\"func debug_repr\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-loop_timestamp\"}),\"func loop_timestamp\")))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#coroutines\"}),\"Coroutines\")),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-coroutine\"}),\"type Coroutine\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-coroutinetoken\"}),\"type CoroutineToken\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-current_coroutine\"}),\"func current_coroutine\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-launch\"}),\"func launch\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-dispatch\"}),\"func dispatch\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-coroutine_token\"}),\"func coroutine_token\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-yield_coroutine\"}),\"func yield_coroutine\")))),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"a\",e({parentName:\"p\"},{href:\"#error-handling\"}),\"Error handling\")),mdx(\"ul\",{parentName:\"li\"},mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-result\"}),\"type Result\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-success\"}),\"func success\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-failure\"}),\"func failure\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#type-exception\"}),\"type Exception\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-panic\"}),\"func panic\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"#func-catch_panic\"}),\"func catch_panic\"))))),mdx(\"h2\",e({},{id:\"basic-types-and-functions\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"anchor-link\",href:\"#basic-types-and-functions\"}),\"#\"),\"Basic types and functions\"),mdx(\"h3\",e({},{id:\"type-boolean\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-boolean\"}),\"#\"),\"type Boolean\"),mdx(\"p\",null,\"The type of \",mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),\".\"),mdx(\"h3\",e({},{id:\"type-integer\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-integer\"}),\"#\"),\"type Integer\"),mdx(\"p\",null,\"The type of integer expressions such as \",mdx(\"inlineCode\",{parentName:\"p\"},\"7\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"0x1F\"),\".\"),mdx(\"h3\",e({},{id:\"type-float\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-float\"}),\"#\"),\"type Float\"),mdx(\"p\",null,\"Type type of floating point expressions such as \",mdx(\"inlineCode\",{parentName:\"p\"},\"1.25\"),\".\"),mdx(\"h3\",e({},{id:\"type-null\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-null\"}),\"#\"),\"type Null\"),mdx(\"p\",null,\"The type of the constant \",mdx(\"inlineCode\",{parentName:\"p\"},\"null\"),\".\"),mdx(\"h3\",e({},{id:\"type-symbol\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-symbol\"}),\"#\"),\"type Symbol\"),mdx(\"p\",null,\"The type of symbol literals, e.g. \",mdx(\"inlineCode\",{parentName:\"p\"},\"#answer\"),\".\"),mdx(\"h3\",e({},{id:\"type-function\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-function\"}),\"#\"),\"type Function\"),mdx(\"p\",null,\"The type of all functions.\"),mdx(\"h3\",e({},{id:\"type-module\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-module\"}),\"#\"),\"type Module\"),mdx(\"p\",null,\"The type of all modules:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`import std;\n// std.type_of(std) == std.Module\n`)),mdx(\"h3\",e({},{id:\"type-nativeobject\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-nativeobject\"}),\"#\"),\"type NativeObject\"),mdx(\"p\",null,`The type of native objects that have been exposed to tiro.\nThe tiro runtime manages the lifetime (and the storage) of these objects, which usually includes invoking a native finalizer when the object is collected.`),mdx(\"h3\",e({},{id:\"type-nativepointer\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-nativepointer\"}),\"#\"),\"type NativePointer\"),mdx(\"p\",null,`The type of a native pointer that has been exposed to tiro.\nThe tiro runtime does `,mdx(\"em\",{parentName:\"p\"},\"not\"),\" manage these objects in any way, which makes them very cheap to use.\"),mdx(\"h3\",e({},{id:\"type-type\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-type\"}),\"#\"),\"type Type\"),mdx(\"p\",null,\"The type of all types. In other words, \",mdx(\"inlineCode\",{parentName:\"p\"},\"std.type_of(value)\"),\" will always return an instance of this type for any kind of value.\"),mdx(\"h3\",e({},{id:\"func-type_of\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-type_of\"}),\"#\"),\"func type_of\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func type_of(v: Value): Type;\n`)),mdx(\"p\",null,\"Returns the type of \",mdx(\"inlineCode\",{parentName:\"p\"},\"v\"),\". For example:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`assert(std.type_of(true) == std.Boolean);\n`)),mdx(\"h2\",e({},{id:\"containers\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"anchor-link\",href:\"#containers\"}),\"#\"),\"Containers\"),mdx(\"h3\",e({},{id:\"type-tuple\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-tuple\"}),\"#\"),\"type Tuple\"),mdx(\"p\",null,\"The type of all tuples, e.g. \",mdx(\"inlineCode\",{parentName:\"p\"},\"()\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"(1,)\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"(1, 2)\"),\".\"),mdx(\"h3\",e({},{id:\"type-record\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-record\"}),\"#\"),\"type Record\"),mdx(\"p\",null,\"The type of all records, e.g. \",mdx(\"inlineCode\",{parentName:\"p\"},\"(:)\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},'(foo: \"bar\")'),\".\"),mdx(\"h3\",e({},{id:\"type-array\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-array\"}),\"#\"),\"type Array\"),mdx(\"p\",null,\"The type of all arrays, e.g. \",mdx(\"inlineCode\",{parentName:\"p\"},\"[]\"),\" and \",mdx(\"inlineCode\",{parentName:\"p\"},\"[a, b, c]\"),\".\"),mdx(\"p\",null,`An array is a dynamic sequence of items that can grow or shrink as needed.\nExisting items can be read or written using the indexing operator, e.g. `,mdx(\"inlineCode\",{parentName:\"p\"},\"const first = array[0]\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},'array[0] = \"first\"'),`.\nThe sequence of items can be manipulated using the methods below.`),mdx(\"h4\",e({},{id:\"func-arraysize\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-arraysize\"}),\"#\"),\"func Array.size\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Array.size(): Integer;\n`)),mdx(\"p\",null,\"Returns the number of items in the array.\"),mdx(\"h4\",e({},{id:\"func-arrayappend\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-arrayappend\"}),\"#\"),\"func Array.append\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Array.append(v: Value);\n`)),mdx(\"p\",null,\"Appends \",mdx(\"inlineCode\",{parentName:\"p\"},\"v\"),\" to the array.\"),mdx(\"h4\",e({},{id:\"func-arrayclear\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-arrayclear\"}),\"#\"),\"func Array.clear\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Array.clear()\n`)),mdx(\"p\",null,\"Removes all items from the array.\"),mdx(\"h3\",e({},{id:\"type-buffer\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-buffer\"}),\"#\"),\"type Buffer\"),mdx(\"p\",null,`Buffers reference a raw region of memory, i.e. a blog of bytes.\nThey are especially useful when doing I/O or when manipulating large amounts of data.`),mdx(\"p\",null,\"TODO: usage\"),mdx(\"h4\",e({},{id:\"func-buffersize\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-buffersize\"}),\"#\"),\"func Buffer.size\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Buffer.size(): Integer;\n`)),mdx(\"p\",null,\"Returns the number of items in the buffer.\"),mdx(\"h3\",e({},{id:\"type-map\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-map\"}),\"#\"),\"type Map\"),mdx(\"p\",null,\"A map is a container that associates \",mdx(\"em\",{parentName:\"p\"},\"keys\"),\" with \",mdx(\"em\",{parentName:\"p\"},\"values\"),`.\nThe key-value associations can be manipulated at will.\nGiven a key, a map allows for efficient lookup (and update) of the associated value.`),mdx(\"p\",null,\"Maps are implemented as \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://en.wikipedia.org/wiki/Hash_table\"}),\"hash tables\"),\".\"),mdx(\"h4\",e({},{id:\"map-insertion-order\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#map-insertion-order\"}),\"#\"),\"Insertion order\"),mdx(\"p\",null,`Contrary to most other hash table implementations, tiro's map preserves the insertion order of its mappings.\nWhen iterating a map, keys and values are visited in the order in which they were inserted:`),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"A new key-value mapping (i.e. a key that was not already in the map) is always inserted at the end.\"),mdx(\"li\",{parentName:\"ul\"},\"Updating an existing key-value mapping (i.e. key already exists in the map) does not change its order in the map.\"),mdx(\"li\",{parentName:\"ul\"},\"Removing a key-value mapping preserves the order of all remaining mappings.\")),mdx(\"span\",{className:\"caption\"},\"Example: iterating over a map\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`import std;\n\nexport func main() {\n    const m = map{};\n    m[1] = \"one\";\n    m[2] = \"two\";\n    m[3] = \"three\";\n\n    // Guaranteed output:\n    // 1 one\n    // 2 two\n    // 3 three\n    for (key, value) in m {\n        std.print(key, value);\n    }\n}\n`)),mdx(\"h4\",e({},{id:\"func-mapsize\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-mapsize\"}),\"#\"),\"func Map.size\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Map.size(): Integer;\n`)),mdx(\"p\",null,\"Returns the number of key-value mappings in the map.\"),mdx(\"h4\",e({},{id:\"func-mapcontains\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-mapcontains\"}),\"#\"),\"func Map.contains\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Map.contains(key: Value): Boolean;\n`)),mdx(\"p\",null,\"Returns \",mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),\" if there is a value associated with \",mdx(\"inlineCode\",{parentName:\"p\"},\"key\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),\" otherwise.\"),mdx(\"h4\",e({},{id:\"func-mapkeys\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-mapkeys\"}),\"#\"),\"func Map.keys\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Map.keys(): Iterable;\n`)),mdx(\"p\",null,`Returns an iterable view over the keys within the map.\nThe iteration order is the same as the map's order.`),mdx(\"h4\",e({},{id:\"func-mapvalues\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-mapvalues\"}),\"#\"),\"func Map.values\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Map.values(): Iterable;\n`)),mdx(\"p\",null,`Returns an iterable view over the values within the map.\nThe iteration order is the same as the map's order.`),mdx(\"h4\",e({},{id:\"func-mapclear\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-mapclear\"}),\"#\"),\"func Map.clear\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Map.clear();\n`)),mdx(\"p\",null,\"Removes all key-value mappings from the map.\"),mdx(\"h4\",e({},{id:\"func-mapremove\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-mapremove\"}),\"#\"),\"func Map.remove\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Map.remove(key: Value);\n`)),mdx(\"p\",null,\"Removes the key-value mapping for \",mdx(\"inlineCode\",{parentName:\"p\"},\"key\"),`.\nDoes nothing if there is no such mapping.`),mdx(\"p\",null,\"TODO: Return true/false?\"),mdx(\"h3\",e({},{id:\"type-set\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-set\"}),\"#\"),\"type Set\"),mdx(\"p\",null,`A set is a container that stores unique items.\nItems can be inserted or removed at will, and their existence can be tested efficiently.`),mdx(\"p\",null,\"Like maps, they are implemented as \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://en.wikipedia.org/wiki/Hash_table\"}),\"hash tables\"),\".\"),mdx(\"h4\",e({},{id:\"set-insertion-order\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#set-insertion-order\"}),\"#\"),\"Insertion order\"),mdx(\"p\",null,`When iterating a set, its items are visited in the order they were inserted in.\nSee also `,mdx(\"a\",e({parentName:\"p\"},{href:\"#map-insertion-order\"}),\"map insertion order\"),\".\"),mdx(\"h4\",e({},{id:\"func-setsize\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-setsize\"}),\"#\"),\"func Set.size\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Set.size(): Integer;\n`)),mdx(\"p\",null,\"Returns the number of items in the set.\"),mdx(\"h4\",e({},{id:\"func-setcontains\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-setcontains\"}),\"#\"),\"func Set.contains\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Set.contains(item: Value): Boolean;\n`)),mdx(\"p\",null,\"Returns \",mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),\" if the set contains \",mdx(\"inlineCode\",{parentName:\"p\"},\"item\"),\", \",mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),\" otherwise.\"),mdx(\"h4\",e({},{id:\"func-setclear\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-setclear\"}),\"#\"),\"func Set.clear\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Set.clear();\n`)),mdx(\"p\",null,\"Removes all items from the set.\"),mdx(\"h4\",e({},{id:\"func-setinsert\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-setinsert\"}),\"#\"),\"func Set.insert\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Set.insert(item: Value): Boolean;\n`)),mdx(\"p\",null,\"Inserts \",mdx(\"inlineCode\",{parentName:\"p\"},\"item\"),` into the set.\nReturns `,mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),\" if item has been inserted, \",mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),\" if it already existed.\"),mdx(\"h4\",e({},{id:\"func-setremove\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-setremove\"}),\"#\"),\"func Set.remove\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Set.remove(item: Value);\n`)),mdx(\"p\",null,\"Removes \",mdx(\"inlineCode\",{parentName:\"p\"},\"item\"),` from the set.\nDoes nothing if `,mdx(\"inlineCode\",{parentName:\"p\"},\"item\"),\" does not exist in the set.\"),mdx(\"p\",null,\"TODO: Return true/false?\"),mdx(\"h2\",e({},{id:\"strings\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"anchor-link\",href:\"#strings\"}),\"#\"),\"Strings\"),mdx(\"h3\",e({},{id:\"type-string\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-string\"}),\"#\"),\"type String\"),mdx(\"p\",null,`The type of all string expressions.\nStrings are immutable.`),mdx(\"p\",null,\"TODO: Unicode strings\"),mdx(\"p\",null,\"TODO: Internal representation is guaranteed to be UTF-8\"),mdx(\"h3\",e({},{id:\"type-stringslice\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-stringslice\"}),\"#\"),\"type StringSlice\"),mdx(\"h3\",e({},{id:\"type-stringbuilder\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-stringbuilder\"}),\"#\"),\"type StringBuilder\"),mdx(\"h3\",e({},{id:\"func-new_string_builder\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-new_string_builder\"}),\"#\"),\"func new_string_builder\"),mdx(\"h2\",e({},{id:\"floating-point-math\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"anchor-link\",href:\"#floating-point-math\"}),\"#\"),\"Floating point math\"),mdx(\"p\",null,\"Basic constants and functions for math operations on floating point numbers (\",mdx(\"inlineCode\",{parentName:\"p\"},\"type Float\"),\").\"),mdx(\"p\",null,`All functions return floating point values on success.\nInput arguments may also be integers, these are then converted to floats internally.`),mdx(\"h3\",e({},{id:\"const-pi\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#const-pi\"}),\"#\"),\"const PI\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`const PI: Float;\n`)),mdx(\"p\",null,\"The approximate value of the circle constant Pi.\"),mdx(\"h3\",e({},{id:\"const-tau\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#const-tau\"}),\"#\"),\"const TAU\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`const TAU: Float;\n`)),mdx(\"p\",null,\"The approximate value of the circle constant Tau (2\\u{1D70B}).\"),mdx(\"h3\",e({},{id:\"const-e\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#const-e\"}),\"#\"),\"const E\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`const E: Float;\n`)),mdx(\"p\",null,\"The approximate value of Euler's constant \",mdx(\"em\",{parentName:\"p\"},\"e\"),\".\"),mdx(\"h3\",e({},{id:\"const-infinity\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#const-infinity\"}),\"#\"),\"const INFINITY\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`const INFINITY: Float;\n`)),mdx(\"p\",null,\"The floating point value of positive infinity.\"),mdx(\"h3\",e({},{id:\"func-abs\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-abs\"}),\"#\"),\"func abs\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func abs(x: Float | Integer): Float;\n`)),mdx(\"p\",null,\"Returns the absolute value of \",mdx(\"inlineCode\",{parentName:\"p\"},\"x\"),\", i.e. \",mdx(\"inlineCode\",{parentName:\"p\"},\"|x|\"),\".\"),mdx(\"h3\",e({},{id:\"func-pow\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-pow\"}),\"#\"),\"func pow\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func pow(a: Float | Integer, b: Float | Integer): Float;\n`)),mdx(\"p\",null,\"Returns \",mdx(\"inlineCode\",{parentName:\"p\"},\"a\"),\" raised to the power \",mdx(\"inlineCode\",{parentName:\"p\"},\"b\"),\".\"),mdx(\"h3\",e({},{id:\"func-log\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-log\"}),\"#\"),\"func log\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func log(x: Float | Integer): Float;\n`)),mdx(\"p\",null,\"Returns the natural logarithm (base \",mdx(\"em\",{parentName:\"p\"},\"e\"),\") of \",mdx(\"inlineCode\",{parentName:\"p\"},\"x\"),\".\"),mdx(\"h3\",e({},{id:\"func-sqrt\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-sqrt\"}),\"#\"),\"func sqrt\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func sqrt(x: Float | Integer): Float;\n`)),mdx(\"p\",null,\"Returns the square root of \",mdx(\"inlineCode\",{parentName:\"p\"},\"x\"),\".\"),mdx(\"h3\",e({},{id:\"func-round\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-round\"}),\"#\"),\"func round\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func round(x: Float | Integer): Float;\n`)),mdx(\"p\",null,\"Returns the nearest integral value to \",mdx(\"inlineCode\",{parentName:\"p\"},\"x\"),\".\"),mdx(\"h3\",e({},{id:\"func-ceil\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-ceil\"}),\"#\"),\"func ceil\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func ceil(x: Float | Integer): Float;\n`)),mdx(\"p\",null,\"Returns the smallest integral floating point value that is greater than or equal to \",mdx(\"inlineCode\",{parentName:\"p\"},\"x\"),\".\"),mdx(\"h3\",e({},{id:\"func-floor\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-floor\"}),\"#\"),\"func floor\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func floor(x: Float | Integer): Float;\n`)),mdx(\"p\",null,\"Returns the largest integral floating point value that is less than or equal to \",mdx(\"inlineCode\",{parentName:\"p\"},\"x\"),\".\"),mdx(\"h3\",e({},{id:\"func-sin\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-sin\"}),\"#\"),\"func sin\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func sin(x: Float | Integer): Float;\n`)),mdx(\"p\",null,\"Returns the sine of \",mdx(\"inlineCode\",{parentName:\"p\"},\"x\"),`.\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"x\"),\" must be an angle in radians.\"),mdx(\"h3\",e({},{id:\"func-cos\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-cos\"}),\"#\"),\"func cos\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func cos(x: Float | Integer): Float;\n`)),mdx(\"p\",null,\"Returns the cosine of \",mdx(\"inlineCode\",{parentName:\"p\"},\"x\"),`.\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"x\"),\" must be an angle in radians.\"),mdx(\"h3\",e({},{id:\"func-tan\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-tan\"}),\"#\"),\"func tan\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func tan(x: Float | Integer): Float;\n`)),mdx(\"p\",null,\"Returns the tangent of \",mdx(\"inlineCode\",{parentName:\"p\"},\"x\"),`.\n`,mdx(\"inlineCode\",{parentName:\"p\"},\"x\"),\" must be an angle in radians.\"),mdx(\"h3\",e({},{id:\"func-asin\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-asin\"}),\"#\"),\"func asin\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func asin(x: Float | Integer): Float;\n`)),mdx(\"p\",null,\"Returns the inverse sine of \",mdx(\"inlineCode\",{parentName:\"p\"},\"x\"),\" in radians.\"),mdx(\"h3\",e({},{id:\"func-acos\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-acos\"}),\"#\"),\"func acos\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func acos(x: Float | Integer): Float;\n`)),mdx(\"p\",null,\"Returns the inverse cosine of \",mdx(\"inlineCode\",{parentName:\"p\"},\"x\"),\" in radians.\"),mdx(\"h3\",e({},{id:\"func-atan\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-atan\"}),\"#\"),\"func atan\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func atan(x: Float | Integer): Float;\n`)),mdx(\"p\",null,\"Returns the inverse tangent of \",mdx(\"inlineCode\",{parentName:\"p\"},\"x\"),\" in radians.\"),mdx(\"h2\",e({},{id:\"input-and-output\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"anchor-link\",href:\"#input-and-output\"}),\"#\"),\"Input and output\"),mdx(\"h3\",e({},{id:\"func-print\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-print\"}),\"#\"),\"func print\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func print(values...: Value...);\n`)),mdx(\"p\",null,\"Prints the given values followed by a new line.\"),mdx(\"h3\",e({},{id:\"func-debug_repr\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-debug_repr\"}),\"#\"),\"func debug_repr\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func debug_repr(value: Value, pretty = false: Boolean): String;\n`)),mdx(\"p\",null,`Returns a debug representation of the given value as a string.\nWhen the optional `,mdx(\"inlineCode\",{parentName:\"p\"},\"pretty\"),\" parameter is true, then the value will be pretty printed.\"),mdx(\"h3\",e({},{id:\"func-loop_timestamp\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-loop_timestamp\"}),\"#\"),\"func loop_timestamp\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func loop_timestamp(): Integer;\n`)),mdx(\"p\",null,\"Returns the current loop timestamp.\"),mdx(\"p\",null,\"The returned value is the number of \",mdx(\"em\",{parentName:\"p\"},\"milliseconds\"),` since some arbitrary starting point - usually the start of the program - until the start of the current main loop iteration.\nThe value is guaranteed to be `,mdx(\"em\",{parentName:\"p\"},\"monotonic\"),\", i.e. it will never decrease.\"),mdx(\"p\",null,`The loop timestamp is refreshed on every iteration of the runtime's main loop.\nA single iteration involves calling all ready coroutines and continues until all coroutines are either done or waiting for the completion of an asynchronous function.`),mdx(\"p\",null,\"Within the same iteration, \",mdx(\"inlineCode\",{parentName:\"p\"},\"loop_timestamp()\"),\" will always return the same value.\"),mdx(\"h2\",e({},{id:\"coroutines\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"anchor-link\",href:\"#coroutines\"}),\"#\"),\"Coroutines\"),mdx(\"p\",null,\"Tiro's coroutines implement \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://en.wikipedia.org/wiki/Cooperative_multitasking\"}),\"cooperative multitasking\"),` within a shared operating system thread.\nThis means that a coroutine will continue running until it gives up control voluntarily.\nIt will never be preempted by a scheduler behind the scenes.`),mdx(\"p\",null,\"In order to give up control (also called \",mdx(\"em\",{parentName:\"p\"},\"yielding\"),\"), a coroutine can perform one of the following actions:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},`Call an asynchronous function.\nAsynchronous functions usually yield behind the scenes automatically, transparent to the caller.\nThey can be implemented in native code or by using the the `,mdx(\"a\",e({parentName:\"p\"},{href:\"#func-yield_coroutine\"}),\"yield_coroutine()\"),\" function (like the function \",mdx(\"inlineCode\",{parentName:\"p\"},\"lock()\"),\" in the \",mdx(\"a\",e({parentName:\"p\"},{href:\"#mutex-example\"}),\"mutex example\"),\").\"),mdx(\"p\",{parentName:\"li\"},\"While an asynchronous function waits for its completion, other coroutines can execute on the shared operating system thread.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"Call \",mdx(\"a\",e({parentName:\"p\"},{href:\"#func-dispatch\"}),\"dispatch()\"),`.\nOther coroutines that are ready to execute will have the chance to run.\nThe current coroutine will resume execution once those coroutines have yielded.`),mdx(\"p\",{parentName:\"li\"},\"It can be useful to invoke \",mdx(\"inlineCode\",{parentName:\"p\"},\"dispatch()\"),\" in potentially long loops to avoid blocking the system for too long.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},\"Call \",mdx(\"a\",e({parentName:\"p\"},{href:\"#func-yield_coroutine\"}),\"yield_coroutine()\"),`.\nThis will stop the coroutine until it has been manually resumed by another coroutine.\nCare must be taken when using this primitive function!`))),mdx(\"h3\",e({},{id:\"type-coroutine\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-coroutine\"}),\"#\"),\"type Coroutine\"),mdx(\"p\",null,`Coroutines represent lightweight threads of execution within a single operating system thread.\nThey are created through the native API or by calling `,mdx(\"inlineCode\",{parentName:\"p\"},\"std.launch()\"),\".\"),mdx(\"h3\",e({},{id:\"type-coroutinetoken\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-coroutinetoken\"}),\"#\"),\"type CoroutineToken\"),mdx(\"h3\",e({},{id:\"func-current_coroutine\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-current_coroutine\"}),\"#\"),\"func current_coroutine\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func current_coroutine(): Coroutine;\n`)),mdx(\"p\",null,\"Returns the current \",mdx(\"a\",e({parentName:\"p\"},{href:\"#type-coroutine\"}),\"Coroutine\"),\" instance, i.e. the coroutine from which \",mdx(\"inlineCode\",{parentName:\"p\"},\"current_coroutine()\"),\" was called.\"),mdx(\"h3\",e({},{id:\"func-launch\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-launch\"}),\"#\"),\"func launch\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func launch(fn: Function, args...: Value...): Coroutine;\n`)),mdx(\"p\",null,\"Executes \",mdx(\"inlineCode\",{parentName:\"p\"},\"fn(args...)\"),` from within a new coroutine.\nThe coroutine instance is returned by this function.`),mdx(\"p\",null,\"TODO: Should we return a future instead?\"),mdx(\"h3\",e({},{id:\"func-dispatch\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-dispatch\"}),\"#\"),\"func dispatch\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func dispatch();\n`)),mdx(\"p\",null,`Dispatches to other ready coroutines.\nThe current coroutine will resume execution after all other ready coroutines had the opportunity to run.`),mdx(\"h3\",e({},{id:\"func-coroutine_token\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-coroutine_token\"}),\"#\"),\"func coroutine_token\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func coroutine_token(): CoroutineToken;\n`)),mdx(\"p\",null,\"Returns a \",mdx(\"a\",e({parentName:\"p\"},{href:\"#type-coroutinetoken\"}),\"CoroutineToken\"),` instance suitable for resuming the current coroutine.\nCoroutine tokens are invalidated after the coroutine has been resumed again.\nSee `,mdx(\"a\",e({parentName:\"p\"},{href:\"#func-yield_coroutine\"}),\"yield_coroutine()\"),\" for an example.\"),mdx(\"p\",null,`WARNING: This is a low level API designed to control the execution of a coroutine manually.\nIt should only be used to create new asynchronous abstractions.`),mdx(\"h3\",e({},{id:\"func-yield_coroutine\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-yield_coroutine\"}),\"#\"),\"func yield_coroutine\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func yield_coroutine();\n`)),mdx(\"p\",null,`Immediately pauses execution of the current coroutine.\nExecution will only continue once the coroutine has been resumed via a `,mdx(\"a\",e({parentName:\"p\"},{href:\"#type-coroutinetoken\"}),\"CoroutineToken\"),\" previously obtained from \",mdx(\"a\",e({parentName:\"p\"},{href:\"#func-coroutine_token\"}),\"coroutine_token()\"),\".\"),mdx(\"p\",null,`WARNING: This is a low level API designed to control the execution of a coroutine manually.\nIt should only be used to create new asynchronous abstractions.`),mdx(\"a\",{id:\"mutex-example\"}),mdx(\"span\",{className:\"caption\"},\"Example: a simple Mutex\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`import std;\n\nexport func main() {\n    const mutex = createMutex();\n    const task = func(id) {\n        for var i = 0; i < 3; i += 1 {\n            mutex.lock();\n            std.print(\"Hello from \\${id}\");\n            std.dispatch(); // Other coroutine can observe a locked mutex\n            mutex.unlock();\n        }\n    };\n\n    std.launch(task, \"1\");\n    std.launch(task, \"2\");\n}\n\n// Creates a simplistic mutex that only supports two coroutines.\nfunc createMutex() {\n    // Coroutine token if another coroutine is already waiting.\n    var waiter = null;\n    var locked = false;\n\n    return (\n        lock: func() {\n            if locked {\n                if waiter != null {\n                    std.panic(\"Cannot support more than one waiter\");\n                }\n                // Wait until the other coroutine unlocks.\n                waiter = std.coroutine_token();\n                std.yield_coroutine();\n            }\n            // At this point, either the mutex wasn't initially locked\n            // or yield_coroutine() returned, i.e. the other coroutine unlocked.\n            assert(!locked);\n            locked = true;\n        },\n        unlock: func() {\n            if !locked {\n                std.panic(\"Mutex was not locked\");\n            }\n            locked = false;\n            if waiter {\n                waiter.resume();\n                waiter = null;\n            }\n            // Give other coroutines the opportunity to run\n            std.dispatch();\n        }\n    );\n}\n`)),mdx(\"h2\",e({},{id:\"error-handling\"}),mdx(\"a\",e({parentName:\"h2\"},{className:\"anchor-link\",href:\"#error-handling\"}),\"#\"),\"Error handling\"),mdx(\"h3\",e({},{id:\"type-result\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-result\"}),\"#\"),\"type Result\"),mdx(\"p\",null,`A result represents the result of an operation that may fail.\nThe result type is the basic primitive type used in tiro's error handling facilities.`),mdx(\"p\",null,\"Results may be in one of two states:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"em\",{parentName:\"p\"},\"Success\"),\". Calling \",mdx(\"inlineCode\",{parentName:\"p\"},\"result.value()\"),\" returns the result of the operation.\")),mdx(\"li\",{parentName:\"ul\"},mdx(\"p\",{parentName:\"li\"},mdx(\"em\",{parentName:\"p\"},\"Failure\"),\". Calling \",mdx(\"inlineCode\",{parentName:\"p\"},\"result.reason()\"),\" returns a value explaining why the operation failed.\"))),mdx(\"p\",null,\"Results are constructed by calling the \",mdx(\"a\",e({parentName:\"p\"},{href:\"#func-success\"}),\"success()\"),\" and \",mdx(\"a\",e({parentName:\"p\"},{href:\"#func-failure\"}),\"failure()\"),\" functions.\"),mdx(\"span\",{className:\"caption\"},\"Example: simple error handling\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`import std;\n\nexport func main() {\n    const result1 = operation(5);\n    std.print(result1.type(), result1.value()); // #success 10\n\n    const result2 = operation(-5);\n    std.print(result2.type(), result2.reason()); // #failure value too small!\n}\n\nfunc operation(n) {\n     if (n < 0) {\n        return std.failure(\"value too small!\");\n    } else {\n        return std.success(n * 2);\n    }\n}\n`)),mdx(\"h4\",e({},{id:\"func-resulttype\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-resulttype\"}),\"#\"),\"func Result.type\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Result.type(): Symbol;\n`)),mdx(\"p\",null,\"Returns either \",mdx(\"inlineCode\",{parentName:\"p\"},\"#success\"),\" or \",mdx(\"inlineCode\",{parentName:\"p\"},\"#failure\"),\", depending on the result's state.\"),mdx(\"h4\",e({},{id:\"func-resultis_success\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-resultis_success\"}),\"#\"),\"func Result.is_success\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Result.is_success(): Boolean;\n`)),mdx(\"p\",null,\"Returns \",mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),\" if the result represents success, \",mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),\" otherwise.\"),mdx(\"h4\",e({},{id:\"func-resultis_failure\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-resultis_failure\"}),\"#\"),\"func Result.is_failure\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Result.is_failure(): Boolean;\n`)),mdx(\"p\",null,\"Returns \",mdx(\"inlineCode\",{parentName:\"p\"},\"true\"),\" if the result represents failure, \",mdx(\"inlineCode\",{parentName:\"p\"},\"false\"),\" otherwise.\"),mdx(\"h4\",e({},{id:\"func-resultvalue\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-resultvalue\"}),\"#\"),\"func Result.value\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Result.value(): Value;\n`)),mdx(\"p\",null,`Returns the result's value.\nRequires that the result represents success.`),mdx(\"h4\",e({},{id:\"func-resultreason\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-resultreason\"}),\"#\"),\"func Result.reason\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Result.reason(): Value;\n`)),mdx(\"p\",null,`Returns the result's reason.\nRequires that the result represents failure.`),mdx(\"h3\",e({},{id:\"func-success\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-success\"}),\"#\"),\"func success\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func success(value: Value): Result;\n`)),mdx(\"p\",null,\"Returns a new successful \",mdx(\"a\",e({parentName:\"p\"},{href:\"#type-result\"}),\"Result\"),\" that holds the given \",mdx(\"inlineCode\",{parentName:\"p\"},\"value\"),\".\"),mdx(\"h3\",e({},{id:\"func-failure\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-failure\"}),\"#\"),\"func failure\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func failure(reason: value): Result;\n`)),mdx(\"p\",null,\"Returns a new failure \",mdx(\"a\",e({parentName:\"p\"},{href:\"#type-result\"}),\"Result\"),\" that holds the given \",mdx(\"inlineCode\",{parentName:\"p\"},\"reason\"),\".\"),mdx(\"h3\",e({},{id:\"type-exception\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#type-exception\"}),\"#\"),\"type Exception\"),mdx(\"p\",null,`Exceptions represent unexpected (and often fatal) errors encountered during program execution.\nThey are generated when code panics, for example by calling `,mdx(\"a\",e({parentName:\"p\"},{href:\"#func-panic\"}),\"panic()\"),\".\"),mdx(\"p\",null,\"It is often preferable to use the less intrusive \",mdx(\"a\",e({parentName:\"p\"},{href:\"#type-result\"}),\"Result\"),` type instead.\nPanicking should be reserved for signaling critical error conditions such as programming errors.`),mdx(\"p\",null,\"TODO: Other properties (stack trace, user data, secondary exceptions)\"),mdx(\"h4\",e({},{id:\"func-exceptionmessage\"}),mdx(\"a\",e({parentName:\"h4\"},{className:\"anchor-link\",href:\"#func-exceptionmessage\"}),\"#\"),\"func Exception.message\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func Exception.message(): String;\n`)),mdx(\"p\",null,\"Returns the exception's error message.\"),mdx(\"h3\",e({},{id:\"func-panic\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-panic\"}),\"#\"),\"func panic\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func panic(message: String);\n`)),mdx(\"p\",null,\"Immediately aborts execution of the current function with an error explained by \",mdx(\"inlineCode\",{parentName:\"p\"},\"message\"),`.\nFrom within the `,mdx(\"inlineCode\",{parentName:\"p\"},\"panic\"),\" function, a new \",mdx(\"a\",e({parentName:\"p\"},{href:\"#type-exception\"}),\"Exception\"),\" is constructed with the given \",mdx(\"inlineCode\",{parentName:\"p\"},\"message\"),\" and \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://en.wikipedia.org/wiki/Call_stack#Unwinding\"}),\"stack unwinding\"),` is started.\nUnwinding can be stopped by using the `,mdx(\"a\",e({parentName:\"p\"},{href:\"#func-catch_panic\"}),\"catch_panic\"),\" function.\"),mdx(\"p\",null,\"This function is designed to report \",mdx(\"em\",{parentName:\"p\"},\"unexpected\"),` errors such as programming errors.\nUse the `,mdx(\"a\",e({parentName:\"p\"},{href:\"#type-result\"}),\"Result\"),\" type instead if errors can be expected, e.g. to report missing files.\"),mdx(\"h3\",e({},{id:\"func-catch_panic\"}),mdx(\"a\",e({parentName:\"h3\"},{className:\"anchor-link\",href:\"#func-catch_panic\"}),\"#\"),\"func catch_panic\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`func catch_panic(fn: Function): Result;\n`)),mdx(\"p\",null,\"Invokes \",mdx(\"inlineCode\",{parentName:\"p\"},\"fn()\"),\" and stops propagation of any non-fatal panic thrown by \",mdx(\"inlineCode\",{parentName:\"p\"},\"fn\"),` or its callees.\nAfter execution of `,mdx(\"inlineCode\",{parentName:\"p\"},\"fn()\"),\" completes (either through panic or through normal return), a \",mdx(\"a\",e({parentName:\"p\"},{href:\"#type-result\"}),\"Result\"),\" is returned:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"If \",mdx(\"inlineCode\",{parentName:\"li\"},\"fn\"),\" returned normally, its return value is wrapped into a success result and returned.\"),mdx(\"li\",{parentName:\"ul\"},\"If a panic was caught, a failure result is returned. The result's \",mdx(\"inlineCode\",{parentName:\"li\"},\"reason\"),\" is set to the caught value.\")),mdx(\"span\",{className:\"caption\"},\"Example: catching a panic from a function\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{}),`import std;\n\nexport func main() {\n    const result = std.catch_panic(may_fail);\n    if (result.is_success()) {\n        std.print(\"success:\", result.value());\n    } else {\n        std.print(\"failure:\", result.reason().message());\n    }\n}\n\nfunc may_fail() {\n    // Replace \\`false\\` with \\`true\\` to return normally\n    if (false) {\n        return 42;\n    } else {\n        std.panic(\"help!\");\n    }\n}\n`)))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"__N_SSG":true}
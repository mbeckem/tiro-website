{"pageProps":{"slug":"files/compiler_8h","frontMatter":{"title":"tiro/compiler.h"},"mdx":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"tirocompilerh\"\n  }, \"tiro/compiler.h\"), mdx(\"h2\", {\n    \"id\": \"classes\"\n  }, \"Classes\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Name\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"struct\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/docs/api/classes/structtiro__compiler__settings\"\n  }, \"tiro_compiler_settings\")), \" \", mdx(\"br\", null), \"An instance of this type can be passed to the compiler to configure it.\")))), mdx(\"h2\", {\n    \"id\": \"types\"\n  }, \"Types\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Name\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"typedef enum \", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/files/compiler_8h#enum-tiro_severity\"\n  }, \"tiro_severity\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/docs/api/files/compiler_8h#typedef-tiro_severity_t\"\n  }, \"tiro_severity_t\")), \" \", mdx(\"br\", null), \"Defines the possible values for the severity of diagnostic compiler messages.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"enum\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/docs/api/files/compiler_8h#enum-tiro_severity\"\n  }, \"tiro_severity\")), \" { TIRO_SEVERITY_WARNING = 1, TIRO_SEVERITY_ERROR = 2}\", mdx(\"br\", null), \"Defines the possible values for the severity of diagnostic compiler messages.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"typedef struct \", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/classes/structtiro__compiler__settings\"\n  }, \"tiro_compiler_settings\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/docs/api/files/compiler_8h#typedef-tiro_compiler_settings_t\"\n  }, \"tiro_compiler_settings_t\")), \" \", mdx(\"br\", null), \"An instance of this type can be passed to the compiler to configure it.\")))), mdx(\"h2\", {\n    \"id\": \"functions\"\n  }, \"Functions\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Name\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"const char *\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/docs/api/files/compiler_8h#function-tiro_severity_str\"\n  }, \"tiro_severity_str\")), \"(\", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/files/compiler_8h#typedef-tiro_severity_t\"\n  }, \"tiro_severity_t\"), \" severity)\", mdx(\"br\", null), \"Returns the string representation of the given severity value.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"void\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/docs/api/files/compiler_8h#function-tiro_module_free\"\n  }, \"tiro_module_free\")), \"(\", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_module_t\"\n  }, \"tiro_module_t\"), \" module)\", mdx(\"br\", null), \"Free a module.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"void\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/docs/api/files/compiler_8h#function-tiro_compiler_take_module\"\n  }, \"tiro_compiler_take_module\")), \"(\", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_compiler_t\"\n  }, \"tiro_compiler_t\"), \" compiler, \", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_module_t\"\n  }, \"tiro_module_t\"), \" \", mdx(\"em\", {\n    parentName: \"td\"\n  }, \" module, \", mdx(\"a\", {\n    parentName: \"em\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_error_t\"\n  }, \"tiro_error_t\"), \" \"), \" err)\", mdx(\"br\", null), \"Extracts the compiled module from the compiler and returns it.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"void\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/docs/api/files/compiler_8h#function-tiro_compiler_settings_init\"\n  }, \"tiro_compiler_settings_init\")), \"(\", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/files/compiler_8h#typedef-tiro_compiler_settings_t\"\n  }, \"tiro_compiler_settings_t\"), \" * settings)\", mdx(\"br\", null), \"Initializes the given compiler settings object with default values.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"void\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/docs/api/files/compiler_8h#function-tiro_compiler_run\"\n  }, \"tiro_compiler_run\")), \"(\", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_compiler_t\"\n  }, \"tiro_compiler_t\"), \" compiler, \", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_error_t\"\n  }, \"tiro_error_t\"), \" * err)\", mdx(\"br\", null), \"Run the compiler on the set of source files provided via \", mdx(\"inlineCode\", {\n    parentName: \"td\"\n  }, \"tiro_compiler_add_file\"), \".\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_compiler_t\"\n  }, \"tiro_compiler_t\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/docs/api/files/compiler_8h#function-tiro_compiler_new\"\n  }, \"tiro_compiler_new\")), \"(const \", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/files/compiler_8h#typedef-tiro_compiler_settings_t\"\n  }, \"tiro_compiler_settings_t\"), \" \", mdx(\"em\", {\n    parentName: \"td\"\n  }, \" settings, \", mdx(\"a\", {\n    parentName: \"em\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_error_t\"\n  }, \"tiro_error_t\"), \" \"), \" err)\", mdx(\"br\", null), \"Allocates a new compiler instance.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"bool\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/docs/api/files/compiler_8h#function-tiro_compiler_has_module\"\n  }, \"tiro_compiler_has_module\")), \"(\", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_compiler_t\"\n  }, \"tiro_compiler_t\"), \" compiler)\", mdx(\"br\", null), \"Returns true if this compiler has successfully compiled a set of source files and produced a bytecode module.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"void\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/docs/api/files/compiler_8h#function-tiro_compiler_free\"\n  }, \"tiro_compiler_free\")), \"(\", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_compiler_t\"\n  }, \"tiro_compiler_t\"), \" compiler)\", mdx(\"br\", null), \"Destroys and frees the given compiler instance.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"void\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/docs/api/files/compiler_8h#function-tiro_compiler_dump_ir\"\n  }, \"tiro_compiler_dump_ir\")), \"(\", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_compiler_t\"\n  }, \"tiro_compiler_t\"), \" compiler, char *\", mdx(\"em\", {\n    parentName: \"td\"\n  }, \" string, \", mdx(\"a\", {\n    parentName: \"em\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_error_t\"\n  }, \"tiro_error_t\"), \" \"), \" err)\", mdx(\"br\", null), \"Returns the string representation of the internal representation immediately before code generation.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"void\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/docs/api/files/compiler_8h#function-tiro_compiler_dump_cst\"\n  }, \"tiro_compiler_dump_cst\")), \"(\", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_compiler_t\"\n  }, \"tiro_compiler_t\"), \" compiler, char *\", mdx(\"em\", {\n    parentName: \"td\"\n  }, \" string, \", mdx(\"a\", {\n    parentName: \"em\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_error_t\"\n  }, \"tiro_error_t\"), \" \"), \" err)\", mdx(\"br\", null), \"Returns the string representation of the concrete syntax tree (CST).\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"void\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/docs/api/files/compiler_8h#function-tiro_compiler_dump_bytecode\"\n  }, \"tiro_compiler_dump_bytecode\")), \"(\", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_compiler_t\"\n  }, \"tiro_compiler_t\"), \" compiler, char *\", mdx(\"em\", {\n    parentName: \"td\"\n  }, \" string, \", mdx(\"a\", {\n    parentName: \"em\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_error_t\"\n  }, \"tiro_error_t\"), \" \"), \" err)\", mdx(\"br\", null), \"Returns the string representation of the compiled bytecode module.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"void\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/docs/api/files/compiler_8h#function-tiro_compiler_dump_ast\"\n  }, \"tiro_compiler_dump_ast\")), \"(\", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_compiler_t\"\n  }, \"tiro_compiler_t\"), \" compiler, char *\", mdx(\"em\", {\n    parentName: \"td\"\n  }, \" string, \", mdx(\"a\", {\n    parentName: \"em\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_error_t\"\n  }, \"tiro_error_t\"), \" \"), \" err)\", mdx(\"br\", null), \"Returns the string representation of the abstract syntax tree (AST).\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"void\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, mdx(\"a\", {\n    parentName: \"strong\",\n    \"href\": \"/docs/api/files/compiler_8h#function-tiro_compiler_add_file\"\n  }, \"tiro_compiler_add_file\")), \"(\", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_compiler_t\"\n  }, \"tiro_compiler_t\"), \" compiler, const char \", mdx(\"em\", {\n    parentName: \"td\"\n  }, \" file_name, const char \"), \" file_content, \", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"/docs/api/files/def_8h#typedef-tiro_error_t\"\n  }, \"tiro_error_t\"), \" * err)\", mdx(\"br\", null), \"Add a source file to the compiler.\")))), mdx(\"h2\", {\n    \"id\": \"types-documentation\"\n  }, \"Types Documentation\"), mdx(\"h3\", {\n    \"id\": \"typedef-tiro_severity_t\"\n  }, \"typedef tiro_severity_t\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cpp\"\n  }, \"typedef enum tiro_severity tiro_severity_t;\\n\")), mdx(\"p\", null, \"Defines the possible values for the severity of diagnostic compiler messages. \"), mdx(\"h3\", {\n    \"id\": \"enum-tiro_severity\"\n  }, \"enum tiro_severity\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Enumerator\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Value\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Description\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"TIRO_SEVERITY_WARNING\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"1\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"A compiler warning.\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"TIRO_SEVERITY_ERROR\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"2\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"A compiler error (compilation fails)\")))), mdx(\"p\", null, \"Defines the possible values for the severity of diagnostic compiler messages. \"), mdx(\"h3\", {\n    \"id\": \"typedef-tiro_compiler_settings_t\"\n  }, \"typedef tiro_compiler_settings_t\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cpp\"\n  }, \"typedef struct tiro_compiler_settings tiro_compiler_settings_t;\\n\")), mdx(\"p\", null, \"An instance of this type can be passed to the compiler to configure it. \"), mdx(\"p\", null, \"Use tiro_compiler_settings_init to initialize this struct to default values. \"), mdx(\"h2\", {\n    \"id\": \"functions-documentation\"\n  }, \"Functions Documentation\"), mdx(\"h3\", {\n    \"id\": \"function-tiro_severity_str\"\n  }, \"function tiro_severity_str\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cpp\"\n  }, \"const char * tiro_severity_str(\\n    tiro_severity_t severity\\n)\\n\")), mdx(\"p\", null, \"Returns the string representation of the given severity value. \"), mdx(\"p\", null, \"The returned string is allocated in static storage and MUST NOT be freed. \"), mdx(\"h3\", {\n    \"id\": \"function-tiro_module_free\"\n  }, \"function tiro_module_free\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cpp\"\n  }, \"void tiro_module_free(\\n    tiro_module_t module\\n)\\n\")), mdx(\"p\", null, \"Free a module. \"), mdx(\"p\", null, \"Must be called exactly once for every created module.\"), mdx(\"p\", null, \"Does nothing if \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"module\"), \" is NULL. \"), mdx(\"h3\", {\n    \"id\": \"function-tiro_compiler_take_module\"\n  }, \"function tiro_compiler_take_module\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cpp\"\n  }, \"void tiro_compiler_take_module(\\n    tiro_compiler_t compiler,\\n    tiro_module_t * module,\\n    tiro_error_t * err\\n)\\n\")), mdx(\"p\", null, \"Extracts the compiled module from the compiler and returns it. \"), mdx(\"p\", null, \"On success, the module will be placed into the location specified by \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"module\"), \", which must not be NULL. If a module was returned, it must be freed by calling \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tiro_module_free\"), \".\"), mdx(\"p\", null, \"This function fails if \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tiro_compiler_has_module\"), \" returns false. \"), mdx(\"h3\", {\n    \"id\": \"function-tiro_compiler_settings_init\"\n  }, \"function tiro_compiler_settings_init\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cpp\"\n  }, \"void tiro_compiler_settings_init(\\n    tiro_compiler_settings_t * settings\\n)\\n\")), mdx(\"p\", null, \"Initializes the given compiler settings object with default values. \"), mdx(\"h3\", {\n    \"id\": \"function-tiro_compiler_run\"\n  }, \"function tiro_compiler_run\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cpp\"\n  }, \"void tiro_compiler_run(\\n    tiro_compiler_t compiler,\\n    tiro_error_t * err\\n)\\n\")), mdx(\"p\", null, \"Run the compiler on the set of source files provided via \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tiro_compiler_add_file\"), \". \"), mdx(\"p\", null, \"Requires at least once source file. This function can only be called once for every compiler instance.\"), mdx(\"p\", null, \"Returns an error if the compilation fails. \"), mdx(\"h3\", {\n    \"id\": \"function-tiro_compiler_new\"\n  }, \"function tiro_compiler_new\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cpp\"\n  }, \"tiro_compiler_t tiro_compiler_new(\\n    const tiro_compiler_settings_t * settings,\\n    tiro_error_t * err\\n)\\n\")), mdx(\"p\", null, \"Allocates a new compiler instance. \"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Parameters\"), \": \"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"settings\"), \" The compiler settings (optional). Default values will be used if this parameter is NULL.\")), mdx(\"p\", null, \"A compiler can be used to compile a set of source files into a module. Warnings or errors emitted during compilation can be observed through the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"settings->message_callback\"), \" function.\"), mdx(\"p\", null, \"FIXME: Currently only works for a single source files, implement _add api. \"), mdx(\"h3\", {\n    \"id\": \"function-tiro_compiler_has_module\"\n  }, \"function tiro_compiler_has_module\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cpp\"\n  }, \"bool tiro_compiler_has_module(\\n    tiro_compiler_t compiler\\n)\\n\")), mdx(\"p\", null, \"Returns true if this compiler has successfully compiled a set of source files and produced a bytecode module. \"), mdx(\"p\", null, \"In order for this function to return true, a previous call to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tiro_compiler_run\"), \" must have returned \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TIRO_OK\"), \" and the compiler must have beeen configured to actually produce a module. \"), mdx(\"h3\", {\n    \"id\": \"function-tiro_compiler_free\"\n  }, \"function tiro_compiler_free\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cpp\"\n  }, \"void tiro_compiler_free(\\n    tiro_compiler_t compiler\\n)\\n\")), mdx(\"p\", null, \"Destroys and frees the given compiler instance. \"), mdx(\"p\", null, \"Must be called exactly once for every instance created via \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tiro_compiler_new\"), \" in order to avoid resource leaks. Does nothing if \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"compiler\"), \" is NULL. \"), mdx(\"h3\", {\n    \"id\": \"function-tiro_compiler_dump_ir\"\n  }, \"function tiro_compiler_dump_ir\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cpp\"\n  }, \"void tiro_compiler_dump_ir(\\n    tiro_compiler_t compiler,\\n    char ** string,\\n    tiro_error_t * err\\n)\\n\")), mdx(\"p\", null, \"Returns the string representation of the internal representation immediately before code generation. \"), mdx(\"p\", null, \"Can only be called after \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tiro_compiler_run\"), \" has been executed successfully.\"), mdx(\"p\", null, \"Returns \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TIRO_ERROR_BAD_STATE\"), \" if the compiler cannot produce the internal representation.\"), mdx(\"p\", null, \"Otherwise, this function returns \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TIRO_OK\"), \" and returns a new string using the provided output parameter. The string must be passed to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"free\"), \" to release memory. \"), mdx(\"h3\", {\n    \"id\": \"function-tiro_compiler_dump_cst\"\n  }, \"function tiro_compiler_dump_cst\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cpp\"\n  }, \"void tiro_compiler_dump_cst(\\n    tiro_compiler_t compiler,\\n    char ** string,\\n    tiro_error_t * err\\n)\\n\")), mdx(\"p\", null, \"Returns the string representation of the concrete syntax tree (CST). \"), mdx(\"p\", null, \"Can only be called after \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tiro_compiler_run\"), \" has been executed. The compile process can have failed; a somewhat useful CST can often still be produced.\"), mdx(\"p\", null, \"Returns \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TIRO_ERROR_BAD_STATE\"), \" if the compiler cannot produce the CST.\"), mdx(\"p\", null, \"Otherwise, this function returns \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TIRO_OK\"), \" and returns a new string using the provided output parameter. The string must be passed to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"free\"), \" to release memory. \"), mdx(\"h3\", {\n    \"id\": \"function-tiro_compiler_dump_bytecode\"\n  }, \"function tiro_compiler_dump_bytecode\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cpp\"\n  }, \"void tiro_compiler_dump_bytecode(\\n    tiro_compiler_t compiler,\\n    char ** string,\\n    tiro_error_t * err\\n)\\n\")), mdx(\"p\", null, \"Returns the string representation of the compiled bytecode module. \"), mdx(\"p\", null, \"Can only be called after \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tiro_compiler_run\"), \" has been executed successfully.\"), mdx(\"p\", null, \"Returns \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TIRO_ERROR_BAD_STATE\"), \" if the compiler cannot produce the disassembled output.\"), mdx(\"p\", null, \"Otherwise, this function returns \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TIRO_OK\"), \" and returns a new string using the provided output parameter. The string must be passed to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"free\"), \" to release memory. \"), mdx(\"h3\", {\n    \"id\": \"function-tiro_compiler_dump_ast\"\n  }, \"function tiro_compiler_dump_ast\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cpp\"\n  }, \"void tiro_compiler_dump_ast(\\n    tiro_compiler_t compiler,\\n    char ** string,\\n    tiro_error_t * err\\n)\\n\")), mdx(\"p\", null, \"Returns the string representation of the abstract syntax tree (AST). \"), mdx(\"p\", null, \"Can only be called after \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tiro_compiler_run\"), \" has been executed. The compile process can have failed; a somewhat useful AST can often still be produced.\"), mdx(\"p\", null, \"Returns \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TIRO_ERROR_BAD_STATE\"), \" if the compiler cannot produce the AST.\"), mdx(\"p\", null, \"Otherwise, this function returns \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"TIRO_OK\"), \" and returns a new string using the provided output parameter. The string must be passed to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"free\"), \" to release memory. \"), mdx(\"h3\", {\n    \"id\": \"function-tiro_compiler_add_file\"\n  }, \"function tiro_compiler_add_file\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-cpp\"\n  }, \"void tiro_compiler_add_file(\\n    tiro_compiler_t compiler,\\n    const char * file_name,\\n    const char * file_content,\\n    tiro_error_t * err\\n)\\n\")), mdx(\"p\", null, \"Add a source file to the compiler. \"), mdx(\"p\", null, \"Can only be called before compilation started.\"), mdx(\"p\", null, \"FIXME: Can only be called for a single source file as of now. \"), mdx(\"hr\", null), mdx(\"p\", null, \"Updated on 11 April 2021 at 12:05:10 CEST\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"<h1 id=\"tirocompilerh\">tiro/compiler.h</h1><h2 id=\"classes\">Classes</h2><table><thead><tr><th></th><th>Name</th></tr></thead><tbody><tr><td>struct</td><td><strong><a href=\"/tiro-website/docs/api/classes/structtiro__compiler__settings\">tiro_compiler_settings</a></strong> <br/>An instance of this type can be passed to the compiler to configure it.</td></tr></tbody></table><h2 id=\"types\">Types</h2><table><thead><tr><th></th><th>Name</th></tr></thead><tbody><tr><td>typedef enum <a href=\"/tiro-website/docs/api/files/compiler_8h#enum-tiro_severity\">tiro_severity</a></td><td><strong><a href=\"/tiro-website/docs/api/files/compiler_8h#typedef-tiro_severity_t\">tiro_severity_t</a></strong> <br/>Defines the possible values for the severity of diagnostic compiler messages.</td></tr><tr><td>enum</td><td><strong><a href=\"/tiro-website/docs/api/files/compiler_8h#enum-tiro_severity\">tiro_severity</a></strong> { TIRO_SEVERITY_WARNING = 1, TIRO_SEVERITY_ERROR = 2}<br/>Defines the possible values for the severity of diagnostic compiler messages.</td></tr><tr><td>typedef struct <a href=\"/tiro-website/docs/api/classes/structtiro__compiler__settings\">tiro_compiler_settings</a></td><td><strong><a href=\"/tiro-website/docs/api/files/compiler_8h#typedef-tiro_compiler_settings_t\">tiro_compiler_settings_t</a></strong> <br/>An instance of this type can be passed to the compiler to configure it.</td></tr></tbody></table><h2 id=\"functions\">Functions</h2><table><thead><tr><th></th><th>Name</th></tr></thead><tbody><tr><td>const char *</td><td><strong><a href=\"/tiro-website/docs/api/files/compiler_8h#function-tiro_severity_str\">tiro_severity_str</a></strong>(<a href=\"/tiro-website/docs/api/files/compiler_8h#typedef-tiro_severity_t\">tiro_severity_t</a> severity)<br/>Returns the string representation of the given severity value.</td></tr><tr><td>void</td><td><strong><a href=\"/tiro-website/docs/api/files/compiler_8h#function-tiro_module_free\">tiro_module_free</a></strong>(<a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_module_t\">tiro_module_t</a> module)<br/>Free a module.</td></tr><tr><td>void</td><td><strong><a href=\"/tiro-website/docs/api/files/compiler_8h#function-tiro_compiler_take_module\">tiro_compiler_take_module</a></strong>(<a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_compiler_t\">tiro_compiler_t</a> compiler, <a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_module_t\">tiro_module_t</a> <em> module, <a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_error_t\">tiro_error_t</a> </em> err)<br/>Extracts the compiled module from the compiler and returns it.</td></tr><tr><td>void</td><td><strong><a href=\"/tiro-website/docs/api/files/compiler_8h#function-tiro_compiler_settings_init\">tiro_compiler_settings_init</a></strong>(<a href=\"/tiro-website/docs/api/files/compiler_8h#typedef-tiro_compiler_settings_t\">tiro_compiler_settings_t</a> * settings)<br/>Initializes the given compiler settings object with default values.</td></tr><tr><td>void</td><td><strong><a href=\"/tiro-website/docs/api/files/compiler_8h#function-tiro_compiler_run\">tiro_compiler_run</a></strong>(<a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_compiler_t\">tiro_compiler_t</a> compiler, <a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_error_t\">tiro_error_t</a> * err)<br/>Run the compiler on the set of source files provided via <code>tiro_compiler_add_file</code>.</td></tr><tr><td><a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_compiler_t\">tiro_compiler_t</a></td><td><strong><a href=\"/tiro-website/docs/api/files/compiler_8h#function-tiro_compiler_new\">tiro_compiler_new</a></strong>(const <a href=\"/tiro-website/docs/api/files/compiler_8h#typedef-tiro_compiler_settings_t\">tiro_compiler_settings_t</a> <em> settings, <a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_error_t\">tiro_error_t</a> </em> err)<br/>Allocates a new compiler instance.</td></tr><tr><td>bool</td><td><strong><a href=\"/tiro-website/docs/api/files/compiler_8h#function-tiro_compiler_has_module\">tiro_compiler_has_module</a></strong>(<a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_compiler_t\">tiro_compiler_t</a> compiler)<br/>Returns true if this compiler has successfully compiled a set of source files and produced a bytecode module.</td></tr><tr><td>void</td><td><strong><a href=\"/tiro-website/docs/api/files/compiler_8h#function-tiro_compiler_free\">tiro_compiler_free</a></strong>(<a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_compiler_t\">tiro_compiler_t</a> compiler)<br/>Destroys and frees the given compiler instance.</td></tr><tr><td>void</td><td><strong><a href=\"/tiro-website/docs/api/files/compiler_8h#function-tiro_compiler_dump_ir\">tiro_compiler_dump_ir</a></strong>(<a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_compiler_t\">tiro_compiler_t</a> compiler, char *<em> string, <a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_error_t\">tiro_error_t</a> </em> err)<br/>Returns the string representation of the internal representation immediately before code generation.</td></tr><tr><td>void</td><td><strong><a href=\"/tiro-website/docs/api/files/compiler_8h#function-tiro_compiler_dump_cst\">tiro_compiler_dump_cst</a></strong>(<a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_compiler_t\">tiro_compiler_t</a> compiler, char *<em> string, <a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_error_t\">tiro_error_t</a> </em> err)<br/>Returns the string representation of the concrete syntax tree (CST).</td></tr><tr><td>void</td><td><strong><a href=\"/tiro-website/docs/api/files/compiler_8h#function-tiro_compiler_dump_bytecode\">tiro_compiler_dump_bytecode</a></strong>(<a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_compiler_t\">tiro_compiler_t</a> compiler, char *<em> string, <a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_error_t\">tiro_error_t</a> </em> err)<br/>Returns the string representation of the compiled bytecode module.</td></tr><tr><td>void</td><td><strong><a href=\"/tiro-website/docs/api/files/compiler_8h#function-tiro_compiler_dump_ast\">tiro_compiler_dump_ast</a></strong>(<a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_compiler_t\">tiro_compiler_t</a> compiler, char *<em> string, <a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_error_t\">tiro_error_t</a> </em> err)<br/>Returns the string representation of the abstract syntax tree (AST).</td></tr><tr><td>void</td><td><strong><a href=\"/tiro-website/docs/api/files/compiler_8h#function-tiro_compiler_add_file\">tiro_compiler_add_file</a></strong>(<a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_compiler_t\">tiro_compiler_t</a> compiler, const char <em> file_name, const char </em> file_content, <a href=\"/tiro-website/docs/api/files/def_8h#typedef-tiro_error_t\">tiro_error_t</a> * err)<br/>Add a source file to the compiler.</td></tr></tbody></table><h2 id=\"types-documentation\">Types Documentation</h2><h3 id=\"typedef-tiro_severity_t\">typedef tiro_severity_t</h3><div><pre class=\"prism-code language-cpp\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token keyword\" style=\"color:#e3116c\">typedef</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#e3116c\">enum</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(227, 98, 9)\">tiro_severity</span><span class=\"token plain\"> tiro_severity_t</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">;</span></div></pre></div><p>Defines the possible values for the severity of diagnostic compiler messages. </p><h3 id=\"enum-tiro_severity\">enum tiro_severity</h3><table><thead><tr><th>Enumerator</th><th>Value</th><th>Description</th></tr></thead><tbody><tr><td>TIRO_SEVERITY_WARNING</td><td>1</td><td>A compiler warning.</td></tr><tr><td>TIRO_SEVERITY_ERROR</td><td>2</td><td>A compiler error (compilation fails)</td></tr></tbody></table><p>Defines the possible values for the severity of diagnostic compiler messages. </p><h3 id=\"typedef-tiro_compiler_settings_t\">typedef tiro_compiler_settings_t</h3><div><pre class=\"prism-code language-cpp\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token keyword\" style=\"color:#e3116c\">typedef</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#e3116c\">struct</span><span class=\"token plain\"> </span><span class=\"token class-name\" style=\"color:rgb(227, 98, 9)\">tiro_compiler_settings</span><span class=\"token plain\"> tiro_compiler_settings_t</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">;</span></div></pre></div><p>An instance of this type can be passed to the compiler to configure it. </p><p>Use tiro_compiler_settings_init to initialize this struct to default values. </p><h2 id=\"functions-documentation\">Functions Documentation</h2><h3 id=\"function-tiro_severity_str\">function tiro_severity_str</h3><div><pre class=\"prism-code language-cpp\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token keyword\" style=\"color:#e3116c\">const</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#e3116c\">char</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(111, 66, 193)\">tiro_severity_str</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_severity_t severity</span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">)</span></div></pre></div><p>Returns the string representation of the given severity value. </p><p>The returned string is allocated in static storage and MUST NOT be freed. </p><h3 id=\"function-tiro_module_free\">function tiro_module_free</h3><div><pre class=\"prism-code language-cpp\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token keyword\" style=\"color:#e3116c\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(111, 66, 193)\">tiro_module_free</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_module_t module</span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">)</span></div></pre></div><p>Free a module. </p><p>Must be called exactly once for every created module.</p><p>Does nothing if <code>module</code> is NULL. </p><h3 id=\"function-tiro_compiler_take_module\">function tiro_compiler_take_module</h3><div><pre class=\"prism-code language-cpp\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token keyword\" style=\"color:#e3116c\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(111, 66, 193)\">tiro_compiler_take_module</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_compiler_t compiler</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_module_t </span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token plain\"> module</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_error_t </span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token plain\"> err</span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">)</span></div></pre></div><p>Extracts the compiled module from the compiler and returns it. </p><p>On success, the module will be placed into the location specified by <code>module</code>, which must not be NULL. If a module was returned, it must be freed by calling <code>tiro_module_free</code>.</p><p>This function fails if <code>tiro_compiler_has_module</code> returns false. </p><h3 id=\"function-tiro_compiler_settings_init\">function tiro_compiler_settings_init</h3><div><pre class=\"prism-code language-cpp\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token keyword\" style=\"color:#e3116c\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(111, 66, 193)\">tiro_compiler_settings_init</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_compiler_settings_t </span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token plain\"> settings</span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">)</span></div></pre></div><p>Initializes the given compiler settings object with default values. </p><h3 id=\"function-tiro_compiler_run\">function tiro_compiler_run</h3><div><pre class=\"prism-code language-cpp\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token keyword\" style=\"color:#e3116c\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(111, 66, 193)\">tiro_compiler_run</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_compiler_t compiler</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_error_t </span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token plain\"> err</span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">)</span></div></pre></div><p>Run the compiler on the set of source files provided via <code>tiro_compiler_add_file</code>. </p><p>Requires at least once source file. This function can only be called once for every compiler instance.</p><p>Returns an error if the compilation fails. </p><h3 id=\"function-tiro_compiler_new\">function tiro_compiler_new</h3><div><pre class=\"prism-code language-cpp\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">tiro_compiler_t </span><span class=\"token function\" style=\"color:rgb(111, 66, 193)\">tiro_compiler_new</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#e3116c\">const</span><span class=\"token plain\"> tiro_compiler_settings_t </span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token plain\"> settings</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_error_t </span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token plain\"> err</span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">)</span></div></pre></div><p>Allocates a new compiler instance. </p><p><strong>Parameters</strong>: </p><ul><li><strong>settings</strong> The compiler settings (optional). Default values will be used if this parameter is NULL.</li></ul><p>A compiler can be used to compile a set of source files into a module. Warnings or errors emitted during compilation can be observed through the <code>settings-&gt;message_callback</code> function.</p><p>FIXME: Currently only works for a single source files, implement _add api. </p><h3 id=\"function-tiro_compiler_has_module\">function tiro_compiler_has_module</h3><div><pre class=\"prism-code language-cpp\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token keyword\" style=\"color:#e3116c\">bool</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(111, 66, 193)\">tiro_compiler_has_module</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_compiler_t compiler</span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">)</span></div></pre></div><p>Returns true if this compiler has successfully compiled a set of source files and produced a bytecode module. </p><p>In order for this function to return true, a previous call to <code>tiro_compiler_run</code> must have returned <code>TIRO_OK</code> and the compiler must have beeen configured to actually produce a module. </p><h3 id=\"function-tiro_compiler_free\">function tiro_compiler_free</h3><div><pre class=\"prism-code language-cpp\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token keyword\" style=\"color:#e3116c\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(111, 66, 193)\">tiro_compiler_free</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_compiler_t compiler</span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">)</span></div></pre></div><p>Destroys and frees the given compiler instance. </p><p>Must be called exactly once for every instance created via <code>tiro_compiler_new</code> in order to avoid resource leaks. Does nothing if <code>compiler</code> is NULL. </p><h3 id=\"function-tiro_compiler_dump_ir\">function tiro_compiler_dump_ir</h3><div><pre class=\"prism-code language-cpp\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token keyword\" style=\"color:#e3116c\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(111, 66, 193)\">tiro_compiler_dump_ir</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_compiler_t compiler</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#e3116c\">char</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token plain\"> string</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_error_t </span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token plain\"> err</span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">)</span></div></pre></div><p>Returns the string representation of the internal representation immediately before code generation. </p><p>Can only be called after <code>tiro_compiler_run</code> has been executed successfully.</p><p>Returns <code>TIRO_ERROR_BAD_STATE</code> if the compiler cannot produce the internal representation.</p><p>Otherwise, this function returns <code>TIRO_OK</code> and returns a new string using the provided output parameter. The string must be passed to <code>free</code> to release memory. </p><h3 id=\"function-tiro_compiler_dump_cst\">function tiro_compiler_dump_cst</h3><div><pre class=\"prism-code language-cpp\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token keyword\" style=\"color:#e3116c\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(111, 66, 193)\">tiro_compiler_dump_cst</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_compiler_t compiler</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#e3116c\">char</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token plain\"> string</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_error_t </span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token plain\"> err</span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">)</span></div></pre></div><p>Returns the string representation of the concrete syntax tree (CST). </p><p>Can only be called after <code>tiro_compiler_run</code> has been executed. The compile process can have failed; a somewhat useful CST can often still be produced.</p><p>Returns <code>TIRO_ERROR_BAD_STATE</code> if the compiler cannot produce the CST.</p><p>Otherwise, this function returns <code>TIRO_OK</code> and returns a new string using the provided output parameter. The string must be passed to <code>free</code> to release memory. </p><h3 id=\"function-tiro_compiler_dump_bytecode\">function tiro_compiler_dump_bytecode</h3><div><pre class=\"prism-code language-cpp\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token keyword\" style=\"color:#e3116c\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(111, 66, 193)\">tiro_compiler_dump_bytecode</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_compiler_t compiler</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#e3116c\">char</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token plain\"> string</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_error_t </span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token plain\"> err</span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">)</span></div></pre></div><p>Returns the string representation of the compiled bytecode module. </p><p>Can only be called after <code>tiro_compiler_run</code> has been executed successfully.</p><p>Returns <code>TIRO_ERROR_BAD_STATE</code> if the compiler cannot produce the disassembled output.</p><p>Otherwise, this function returns <code>TIRO_OK</code> and returns a new string using the provided output parameter. The string must be passed to <code>free</code> to release memory. </p><h3 id=\"function-tiro_compiler_dump_ast\">function tiro_compiler_dump_ast</h3><div><pre class=\"prism-code language-cpp\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token keyword\" style=\"color:#e3116c\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(111, 66, 193)\">tiro_compiler_dump_ast</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_compiler_t compiler</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#e3116c\">char</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token plain\"> string</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_error_t </span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token plain\"> err</span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">)</span></div></pre></div><p>Returns the string representation of the abstract syntax tree (AST). </p><p>Can only be called after <code>tiro_compiler_run</code> has been executed. The compile process can have failed; a somewhat useful AST can often still be produced.</p><p>Returns <code>TIRO_ERROR_BAD_STATE</code> if the compiler cannot produce the AST.</p><p>Otherwise, this function returns <code>TIRO_OK</code> and returns a new string using the provided output parameter. The string must be passed to <code>free</code> to release memory. </p><h3 id=\"function-tiro_compiler_add_file\">function tiro_compiler_add_file</h3><div><pre class=\"prism-code language-cpp\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token keyword\" style=\"color:#e3116c\">void</span><span class=\"token plain\"> </span><span class=\"token function\" style=\"color:rgb(111, 66, 193)\">tiro_compiler_add_file</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">(</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_compiler_t compiler</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#e3116c\">const</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#e3116c\">char</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token plain\"> file_name</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    </span><span class=\"token keyword\" style=\"color:#e3116c\">const</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"color:#e3116c\">char</span><span class=\"token plain\"> </span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token plain\"> file_content</span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">,</span><span class=\"token plain\"></span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\">    tiro_error_t </span><span class=\"token operator\" style=\"color:rgb(0, 92, 197)\">*</span><span class=\"token plain\"> err</span></div><div class=\"token-line\" style=\"color:rgb(36, 41, 46)\"><span class=\"token plain\"></span><span class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\">)</span></div></pre></div><p>Add a source file to the compiler. </p><p>Can only be called before compilation started.</p><p>FIXME: Can only be called for a single source file as of now. </p><hr/><p>Updated on 11 April 2021 at 12:05:10 CEST</p>","scope":{}}},"__N_SSG":true}
{"pageProps":{"slug":"classes/classtiro_1_1async__frame","frontMatter":{"title":"tiro::async_frame","summary":"Represents the call frame of a asynchronous function call."},"mdx":{"compiledSource":"var m=Object.defineProperty,d=Object.defineProperties;var u=Object.getOwnPropertyDescriptors;var s=Object.getOwnPropertySymbols;var i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;var c=(e,n,t)=>n in e?m(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,a=(e,n)=>{for(var t in n||(n={}))i.call(n,t)&&c(e,t,n[t]);if(s)for(var t of s(n))o.call(n,t)&&c(e,t,n[t]);return e},l=(e,n)=>d(e,u(n));var p=(e,n)=>{var t={};for(var r in e)i.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&s)for(var r of s(e))n.indexOf(r)<0&&o.call(e,r)&&(t[r]=e[r]);return t};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(t){var r=t,{components:e}=r,n=p(r,[\"components\"]);return mdx(MDXLayout,l(a(a({},layoutProps),n),{components:e,mdxType:\"MDXLayout\"}),mdx(\"h1\",a({},{id:\"tiroasync-frame\"}),mdx(\"a\",a({parentName:\"h1\"},{className:\"anchor-link\",href:\"#tiroasync-frame\"}),\"\\xA7\"),\"tiro::async_frame\"),mdx(\"p\",null,\"Represents the call frame of a asynchronous function call.  \",mdx(\"a\",a({parentName:\"p\"},{href:\"#detailed-description\"}),\"More...\")),mdx(\"p\",null,mdx(\"inlineCode\",{parentName:\"p\"},'#include \"tiropp/functions.hpp\"')),mdx(\"h2\",a({},{id:\"public-functions\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"anchor-link\",href:\"#public-functions\"}),\"\\xA7\"),\"Public Functions\"),mdx(\"table\",null,mdx(\"thead\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"thead\"},mdx(\"th\",a({parentName:\"tr\"},{align:null})),mdx(\"th\",a({parentName:\"tr\"},{align:null}),\"Name\"))),mdx(\"tbody\",{parentName:\"table\"},mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",a({parentName:\"tr\"},{align:null})),mdx(\"td\",a({parentName:\"tr\"},{align:null}),mdx(\"strong\",{parentName:\"td\"},mdx(\"a\",a({parentName:\"strong\"},{href:\"/docs/api/classes/classtiro_1_1async__frame#function-async-frame\"}),\"async_frame\")),\"(\",mdx(\"a\",a({parentName:\"td\"},{href:\"/docs/api/files/def_8h#typedef-tiro-vm-t\"}),\"tiro\",\"_\",\"vm\",\"_\",\"t\"),\" raw_vm, \",mdx(\"a\",a({parentName:\"td\"},{href:\"/docs/api/files/def_8h#typedef-tiro-async-frame-t\"}),\"tiro\",\"_\",\"async\",\"_\",\"frame\",\"_\",\"t\"),\" raw_frame)\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",a({parentName:\"tr\"},{align:null})),mdx(\"td\",a({parentName:\"tr\"},{align:null}),mdx(\"strong\",{parentName:\"td\"},mdx(\"a\",a({parentName:\"strong\"},{href:\"/docs/api/classes/classtiro_1_1async__frame#function-async-frame\"}),\"async_frame\")),\"(\",mdx(\"a\",a({parentName:\"td\"},{href:\"/docs/api/classes/classtiro_1_1async__frame\"}),\"async\",\"_\",\"frame\"),\" && ) =delete\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",a({parentName:\"tr\"},{align:null}),mdx(\"a\",a({parentName:\"td\"},{href:\"/docs/api/classes/classtiro_1_1async__frame\"}),\"async_frame\"),\" &\"),mdx(\"td\",a({parentName:\"tr\"},{align:null}),mdx(\"strong\",{parentName:\"td\"},mdx(\"a\",a({parentName:\"strong\"},{href:\"/docs/api/classes/classtiro_1_1async__frame#function-operator=\"}),\"operator=\")),\"(\",mdx(\"a\",a({parentName:\"td\"},{href:\"/docs/api/classes/classtiro_1_1async__frame\"}),\"async\",\"_\",\"frame\"),\" && ) =delete\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",a({parentName:\"tr\"},{align:null}),\"size_t\"),mdx(\"td\",a({parentName:\"tr\"},{align:null}),mdx(\"strong\",{parentName:\"td\"},mdx(\"a\",a({parentName:\"strong\"},{href:\"/docs/api/classes/classtiro_1_1async__frame#function-arg-count\"}),\"arg_count\")),\"() const\",mdx(\"br\",null),\"Returns the number of arguments passed to this function call.\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",a({parentName:\"tr\"},{align:null}),mdx(\"a\",a({parentName:\"td\"},{href:\"/docs/api/classes/classtiro_1_1handle\"}),\"handle\")),mdx(\"td\",a({parentName:\"tr\"},{align:null}),mdx(\"strong\",{parentName:\"td\"},mdx(\"a\",a({parentName:\"strong\"},{href:\"/docs/api/classes/classtiro_1_1async__frame#function-arg\"}),\"arg\")),\"(size\",\"_\",\"t index) const\",mdx(\"br\",null),\"Returns the argument at the given index (\",mdx(\"inlineCode\",{parentName:\"td\"},\"0 <= index < argc\"),\").\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",a({parentName:\"tr\"},{align:null}),mdx(\"a\",a({parentName:\"td\"},{href:\"/docs/api/classes/classtiro_1_1handle\"}),\"handle\")),mdx(\"td\",a({parentName:\"tr\"},{align:null}),mdx(\"strong\",{parentName:\"td\"},mdx(\"a\",a({parentName:\"strong\"},{href:\"/docs/api/classes/classtiro_1_1async__frame#function-closure\"}),\"closure\")),\"() const\",mdx(\"br\",null),\"Returns the closure value referenced by this function (if any).\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",a({parentName:\"tr\"},{align:null}),\"void\"),mdx(\"td\",a({parentName:\"tr\"},{align:null}),mdx(\"strong\",{parentName:\"td\"},mdx(\"a\",a({parentName:\"strong\"},{href:\"/docs/api/classes/classtiro_1_1async__frame#function-return-value\"}),\"return_value\")),\"(const \",mdx(\"a\",a({parentName:\"td\"},{href:\"/docs/api/classes/classtiro_1_1handle\"}),\"handle\"),\" & value)\",mdx(\"br\",null),\"Sets the return value for this function call frame to the given \",mdx(\"inlineCode\",{parentName:\"td\"},\"value\"),\".\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",a({parentName:\"tr\"},{align:null}),\"void\"),mdx(\"td\",a({parentName:\"tr\"},{align:null}),mdx(\"strong\",{parentName:\"td\"},mdx(\"a\",a({parentName:\"strong\"},{href:\"/docs/api/classes/classtiro_1_1async__frame#function-panic-msg\"}),\"panic_msg\")),\"(std::string\",\"_\",\"view message)\",mdx(\"br\",null),\"Signals a panic from this function call frame using the given message.\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",a({parentName:\"tr\"},{align:null}),mdx(\"a\",a({parentName:\"td\"},{href:\"/docs/api/classes/classtiro_1_1async__token\"}),\"async_token\")),mdx(\"td\",a({parentName:\"tr\"},{align:null}),mdx(\"strong\",{parentName:\"td\"},mdx(\"a\",a({parentName:\"strong\"},{href:\"/docs/api/classes/classtiro_1_1async__frame#function-token\"}),\"token\")),\"() const\",mdx(\"br\",null),\"Returns a token for resuming an async function call after yielding.\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",a({parentName:\"tr\"},{align:null}),\"void\"),mdx(\"td\",a({parentName:\"tr\"},{align:null}),mdx(\"strong\",{parentName:\"td\"},mdx(\"a\",a({parentName:\"strong\"},{href:\"/docs/api/classes/classtiro_1_1async__frame#function-yield\"}),\"yield\")),\"()\",mdx(\"br\",null),\"Yields from an async function call, pausing the current coroutine until it is resumed via an async frame token.\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",a({parentName:\"tr\"},{align:null}),mdx(\"a\",a({parentName:\"td\"},{href:\"/docs/api/files/def_8h#typedef-tiro-vm-t\"}),\"tiro_vm_t\")),mdx(\"td\",a({parentName:\"tr\"},{align:null}),mdx(\"strong\",{parentName:\"td\"},mdx(\"a\",a({parentName:\"strong\"},{href:\"/docs/api/classes/classtiro_1_1async__frame#function-raw-vm\"}),\"raw_vm\")),\"() const\")),mdx(\"tr\",{parentName:\"tbody\"},mdx(\"td\",a({parentName:\"tr\"},{align:null}),mdx(\"a\",a({parentName:\"td\"},{href:\"/docs/api/files/def_8h#typedef-tiro-async-frame-t\"}),\"tiro_async_frame_t\")),mdx(\"td\",a({parentName:\"tr\"},{align:null}),mdx(\"strong\",{parentName:\"td\"},mdx(\"a\",a({parentName:\"strong\"},{href:\"/docs/api/classes/classtiro_1_1async__frame#function-raw-frame\"}),\"raw_frame\")),\"() const\")))),mdx(\"h2\",a({},{id:\"detailed-description\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"anchor-link\",href:\"#detailed-description\"}),\"\\xA7\"),\"Detailed Description\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"language-cpp\"}),`class tiro::async_frame;\n`)),mdx(\"p\",null,\"Represents the call frame of a asynchronous function call. \"),mdx(\"p\",null,\"References to sync_frames are only valid from within the surrounding function call. \"),mdx(\"h2\",a({},{id:\"public-functions-documentation\"}),mdx(\"a\",a({parentName:\"h2\"},{className:\"anchor-link\",href:\"#public-functions-documentation\"}),\"\\xA7\"),\"Public Functions Documentation\"),mdx(\"h3\",a({},{id:\"function-async-frame\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"anchor-link\",href:\"#function-async-frame\"}),\"\\xA7\"),\"function async_frame\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"language-cpp\"}),`inline async_frame(\n    tiro_vm_t raw_vm,\n    tiro_async_frame_t raw_frame\n)\n`)),mdx(\"h3\",a({},{id:\"function-async-frame-1\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"anchor-link\",href:\"#function-async-frame-1\"}),\"\\xA7\"),\"function async_frame\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"language-cpp\"}),`async_frame(\n    async_frame && \n) =delete\n`)),mdx(\"h3\",a({},{id:\"function-operator\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"anchor-link\",href:\"#function-operator\"}),\"\\xA7\"),\"function operator=\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"language-cpp\"}),`async_frame & operator=(\n    async_frame && \n) =delete\n`)),mdx(\"h3\",a({},{id:\"function-arg-count\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"anchor-link\",href:\"#function-arg-count\"}),\"\\xA7\"),\"function arg_count\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"language-cpp\"}),`inline size_t arg_count() const\n`)),mdx(\"p\",null,\"Returns the number of arguments passed to this function call. \"),mdx(\"h3\",a({},{id:\"function-arg\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"anchor-link\",href:\"#function-arg\"}),\"\\xA7\"),\"function arg\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"language-cpp\"}),`inline handle arg(\n    size_t index\n) const\n`)),mdx(\"p\",null,\"Returns the argument at the given index (\",mdx(\"inlineCode\",{parentName:\"p\"},\"0 <= index < argc\"),\"). \"),mdx(\"h3\",a({},{id:\"function-closure\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"anchor-link\",href:\"#function-closure\"}),\"\\xA7\"),\"function closure\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"language-cpp\"}),`inline handle closure() const\n`)),mdx(\"p\",null,\"Returns the closure value referenced by this function (if any). \"),mdx(\"h3\",a({},{id:\"function-return-value\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"anchor-link\",href:\"#function-return-value\"}),\"\\xA7\"),\"function return_value\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"language-cpp\"}),`inline void return_value(\n    const handle & value\n)\n`)),mdx(\"p\",null,\"Sets the return value for this function call frame to the given \",mdx(\"inlineCode\",{parentName:\"p\"},\"value\"),\". \"),mdx(\"p\",null,\"This function can be used to signal an immediate return without yielding. \"),mdx(\"h3\",a({},{id:\"function-panic-msg\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"anchor-link\",href:\"#function-panic-msg\"}),\"\\xA7\"),\"function panic_msg\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"language-cpp\"}),`inline void panic_msg(\n    std::string_view message\n)\n`)),mdx(\"p\",null,\"Signals a panic from this function call frame using the given message. \"),mdx(\"p\",null,\"This function can be used to signal an immediate panic without yielding. \"),mdx(\"h3\",a({},{id:\"function-token\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"anchor-link\",href:\"#function-token\"}),\"\\xA7\"),\"function token\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"language-cpp\"}),`inline async_token token() const\n`)),mdx(\"p\",null,\"Returns a token for resuming an async function call after yielding. \"),mdx(\"p\",null,\"Yielding from an async function call must be implemented by\"),mdx(\"ol\",null,mdx(\"li\",{parentName:\"ol\"},\"acquiring an async token and storing it somewhere\"),mdx(\"li\",{parentName:\"ol\"},\"scheduling some asynchronous operation\"),mdx(\"li\",{parentName:\"ol\"},\"calling \",mdx(\"inlineCode\",{parentName:\"li\"},\"[yield()](/docs/api/classes/classtiro_1_1async__frame#function-yield)\"),` on this frame and returning from the native function call\nAfter the async operation has completed, the coroutine may be resumed by calling `,mdx(\"inlineCode\",{parentName:\"li\"},\"token.return_value\"),\" or \",mdx(\"inlineCode\",{parentName:\"li\"},\"token.panic_msg\"),\" to provide a function result. \")),mdx(\"h3\",a({},{id:\"function-yield\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"anchor-link\",href:\"#function-yield\"}),\"\\xA7\"),\"function yield\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"language-cpp\"}),`inline void yield()\n`)),mdx(\"p\",null,\"Yields from an async function call, pausing the current coroutine until it is resumed via an async frame token. \"),mdx(\"p\",null,\"The native function should return immediately after calling this function. \"),mdx(\"h3\",a({},{id:\"function-raw-vm\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"anchor-link\",href:\"#function-raw-vm\"}),\"\\xA7\"),\"function raw_vm\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"language-cpp\"}),`inline tiro_vm_t raw_vm() const\n`)),mdx(\"h3\",a({},{id:\"function-raw-frame\"}),mdx(\"a\",a({parentName:\"h3\"},{className:\"anchor-link\",href:\"#function-raw-frame\"}),\"\\xA7\"),\"function raw_frame\"),mdx(\"pre\",null,mdx(\"code\",a({parentName:\"pre\"},{className:\"language-cpp\"}),`inline tiro_async_frame_t raw_frame() const\n`)),mdx(\"hr\",null),mdx(\"p\",null,\"Updated on 2022-02-27 at 21:17:13 +0100\"))}MDXContent.isMDXComponent=!0;\n","scope":{}}},"__N_SSG":true}
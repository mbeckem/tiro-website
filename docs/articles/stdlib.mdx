---
title: "The standard library"
slug: "/stdlib"
---

# The standard library

Basic types and functions provided by the runtime.

```
import std;
```

## Contents

- [Basic types and functions](#basic-types-and-functions)

  - [type Boolean](#type-boolean)
  - [type Integer](#type-integer)
  - [type Float](#type-float)
  - [type Null](#type-null)
  - [type String](#type-string)
  - [type Symbol](#type-symbol)
  - [type Function](#type-function)
  - [type Module](#type-module)
  - [type NativeObject](#type-nativeobject)
  - [type NativePointer](#type-nativepointer)
  - [type Type](#type-type)
  - [func type_of](#func-type_of)

- [Containers](#containers)

  - [type Tuple](#type-tuple)
  - [type Record](#type-record)
  - [type Array](#type-array)
  - [type Buffer](#type-buffer)
  - [type Map](#type-map)
  - [type Set](#type-set)

- [Strings](#strings)

  - [type StringSlice](#type-stringslice)
  - [type StringBuilder](#type-stringbuilder)
  - [func new_string_builder](#func-new_string_builder)

- [Input and Output](#input-and-output)

  - [func print](#func-print)
  - [func loop_timestamp](#func-loop_timestamp)

- [Coroutines](#coroutines)

  - [type Coroutine](#type-coroutine)
  - [type CoroutineToken](#type-coroutinetoken)
  - [func launch](#func-launch)
  - [func current_coroutine](#func-current_coroutine)
  - [func coroutine_token](#func-coroutine_token)
  - [func yield_coroutine](#func-yield_coroutine)

- [Error handling](#error-handling)

  - [type Result](#type-result)
  - [func success](#func-success)
  - [func failure](#func-failure)
  - [func panic](#func-panic)
  - [func catch_panic](#func-catch_panic)

## Basic types and functions

### type Boolean

The type of `true` and `false`.

### type Integer

The type of integer expressions such as `7` or `0x1F`.

### type Float

Type type of floating point expressions such as `1.25`.

### type Null

The type of the constant `null`.

### type String

The type of all string expressions.
Strings are immutable.

TODO: Unicode strings
TODO: Internal representation is guaranteed to be UTF-8

### type Symbol

The type of symbol literals, e.g. `#answer`.

### type Function

The type of all functions.

### type Module

The type of all modules:

```
import std;
// std.type_of(std) == std.Module
```

### type NativeObject

The type of native objects that have been exposed to tiro.
The tiro runtime manages the lifetime (and the storage) of these objects, which usually includes invoking a native finalizer when the object is collected.

### type NativePointer

The type of a native pointer that has been exposed to tiro.
The tiro runtime does _not_ manage these objects in any way, which makes them very cheap to use.

### type Type

The type of all types. In other words, `std.type_of(value)` will always return an instance of this type for any kind of value.

### func type_of

```
func type_of(v: Value);
```

Returns the type of `v`. For example:

```
assert(std.type_of(true) == std.Boolean);
```

## Containers

### type Tuple

The type of all tuples, e.g. `()`, `(1,)` or `(1, 2)`.

### type Record

The type of all records, e.g. `(:)` or `(foo: "bar")`.

### type Array

The type of all arrays, e.g. `[]` and `[a, b, c]`.

An array is a dynamic sequence of items that can grow or shrink as needed.
Existing items can be read or written using the indexing operator, e.g. `const first = array[0]` or `array[0] = "first"`.
The sequence of items can be manipulated using the methods below.

#### func Array.size

```
func Array.size(): Integer;
```

Returns the number of items in the array.

#### func Array.append

```
func Array.append(v: Value);
```

Appends `v` to the array.

#### func Array.clear

```
func Array.clear()
```

Removes all items from the array.

### type Buffer

The type of all buffers.

Buffers reference a raw region of memory, i.e. a blog of bytes.
They are especially useful when doing I/O or when manipulating large amounts of data.

TODO: usage

#### func Buffer.size

```
func Buffer.size(): Integer;
```

Returns the number of items in the buffer.

### type Map

The type of all maps.

A map is a container that associates _keys_ with _values_.
The key-value associations can be manipulated at will.
Given a key, a map allows for efficient lookup (and update) of the associated value.

Maps are implemented as [hash tables](https://en.wikipedia.org/wiki/Hash_table).

#### Insertion order {#map-insertion-order}

Contrary to most other hash table implementations, tiro's map preserves the insertion order of its mappings.
When iterating a map, keys and values are visited in the order in which they were inserted:

- A new key-value mapping (i.e. a key that was not already in the map) is always inserted at the end.
- Updating an existing key-value mapping (i.e. key already exists in the map) does not change its order in the map.
- Removing a key-value mapping preserves the order of all remaining mappings.

Example:

```
import std;

const m = map{};
m[1] = "one";
m[2] = "two";
m[3] = "three";

// Guaranteed output:
// 1 one
// 2 two
// 3 three
for (key, value) in m {
    std.print(key, value);
}
```

#### func Map.size

```
func Map.size(): Integer;
```

Returns the number of key-value mappings in the map.

#### func Map.contains

```
func Map.contains(key: Value): Boolean;
```

Returns `true` if there is a value associated with `key`, `false` otherwise.

#### func Map.keys

```
func Map.keys(): Iterable;
```

Returns an iterable view over the keys within the map.
The iteration order is the same as the map's order.

#### func Map.values

```
func Map.values(): Iterable;
```

Returns an iterable view over the values within the map.
The iteration order is the same as the map's order.

#### func Map.clear

```
func Map.clear();
```

Removes all key-value mappings from the map.

#### func Map.remove

```
func Map.remove(key: Value);
```

Removes the key-value mapping for `key`.
Does nothing if there is no such mapping.

TODO: Return true/false?

### type Set

The type of all sets.

A set is a container that stores unique items.
Items can be inserted or removed at will, and their existance can be tested efficiently.

Like maps, they are implemented as [hash tables](https://en.wikipedia.org/wiki/Hash_table).

#### Insertion order {#set-insertion-order}

When iterating a set, its items are visited in the order they were inserted in.
See also [map insertion order](#map-insertion-order).

#### func Set.size

```
func Set.size(): Integer;
```

Returns the number of items in the set.

#### func Set.contains

```
func Set.contains(item: Value): Boolean;
```

Returns `true` if the set contains `item`, `false` otherwise.

#### func Set.clear

```
func Set.clear();
```

Removes all items from the set.

#### func Set.insert

```
func Set.insert(item: Value): Boolean;
```

Inserts `item` into the set.
Returns `true` if item has been inserted, `false` if it already existed.

#### func Set.remove

```
func Map.remove(item: Value);
```

Removes `item` from the set.
Does nothing if `item` does not exist in the set.

TODO: Return true/false?

## Strings

### type StringSlice

### type StringBuilder

### func new_string_builder

## Input and Output

### func print

### func loop_timestamp

## Coroutines

### type Coroutine

### type CoroutineToken

### func launch

### func current_coroutine

### func coroutine_token

### func yield_coroutine

## Error handling

### type Result

### func success

### func failure

### func panic

### func catch_panic

```
func catch_panic(func: Function);
```

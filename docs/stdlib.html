<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="shortcut icon" href="/tiro-website/favicon.ico"/><title>The standard library | tiro</title><meta name="description" content="The tiro Programming Language"/><meta property="og:type" content="website"/><meta property="og:title" content="The standard library"/><meta property="og:description" content="The tiro Programming Language"/><meta property="twitter:card" content="summary"/><meta property="twitter:creator" content="Michael Beckemeyer"/><meta property="twitter:title" content="The standard library"/><meta property="twitter:description" content="The tiro Programming Language"/><meta name="next-head-count" content="12"/><link rel="preload" href="/tiro-website/_next/static/css/6664e6581d9a97be05b1.css" as="style"/><link rel="stylesheet" href="/tiro-website/_next/static/css/6664e6581d9a97be05b1.css" data-n-g=""/><link rel="preload" href="/tiro-website/_next/static/css/d68ee2109cc1ebc3c377.css" as="style"/><link rel="stylesheet" href="/tiro-website/_next/static/css/d68ee2109cc1ebc3c377.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/tiro-website/_next/static/chunks/webpack-2881d3cf8797bdd9b709.js" as="script"/><link rel="preload" href="/tiro-website/_next/static/chunks/framework.b8f98ae0cabfbf8d6dda.js" as="script"/><link rel="preload" href="/tiro-website/_next/static/chunks/commons.bb3c3f9483f19f40909f.js" as="script"/><link rel="preload" href="/tiro-website/_next/static/chunks/main-2f1b2414b74faf6ba6b9.js" as="script"/><link rel="preload" href="/tiro-website/_next/static/chunks/077bbc3e42b200d19aa8b06179d2d8d0a5231ac6.ff984f8c60fe69b3e789.js" as="script"/><link rel="preload" href="/tiro-website/_next/static/chunks/pages/_app-6bddbb204e2c029092d1.js" as="script"/><link rel="preload" href="/tiro-website/_next/static/chunks/6278397b.62a8d82b311f251ed8ed.js" as="script"/><link rel="preload" href="/tiro-website/_next/static/chunks/2c060dff92e6454490672d24ff1b5f7d837bc315.13eb4a17c0aa97d11b94.js" as="script"/><link rel="preload" href="/tiro-website/_next/static/chunks/cb62dbd6a1bdc0783d6bfd7347e6b2b91c6334b4.992769dde8c746c1f7be.js" as="script"/><link rel="preload" href="/tiro-website/_next/static/chunks/pages/docs/%5B...slug%5D-7e4978e5f3fca9e36e1b.js" as="script"/></head><body><div id="__next"><div class="Layout_container__QVNsN"><header class="Layout_header__2ZJ77"><div class="bp3-navbar bp3-dark Layout_nav__3Jv66"><div class="bp3-navbar-group bp3-align-left"><div class="bp3-navbar-heading"><a class="Layout_title__WylHX Layout_pageLink__3DA3h" href="/tiro-website">tiro</a></div><a class="Layout_pageLink__3DA3h" href="/tiro-website/docs">Documentation</a><a class="Layout_pageLink__3DA3h" href="/tiro-website/sandbox">Sandbox</a></div><div class="bp3-navbar-group bp3-align-right"><a class="Layout_pageLink__3DA3h" href="https://github.com/mbeckem/tiro" rel="noopener noreferrer" target="_blank"><svg viewBox="0 0 16 16" width="32" class="Layout_icon__3qbZj"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>Github</a></div></div></header><main class="Layout_content__3r5bY"><div class="Container_container__1h3U7"><article class="bp3-running-text bp3-text-large Article_article__1JsT3"><div><h1 id="the-standard-library"><a class="anchor-link" href="#the-standard-library">#</a>The standard library</h1><p>Basic types and functions provided by the runtime.</p><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">import std;</span></div></pre></div><h2 id="contents"><a class="anchor-link" href="#contents">#</a>Contents</h2><ul><li><p><a href="#basic-types-and-functions">Basic types and functions</a></p><ul><li><a href="#type-boolean">type Boolean</a></li><li><a href="#type-integer">type Integer</a></li><li><a href="#type-float">type Float</a></li><li><a href="#type-null">type Null</a></li><li><a href="#type-symbol">type Symbol</a></li><li><a href="#type-function">type Function</a></li><li><a href="#type-module">type Module</a></li><li><a href="#type-nativeobject">type NativeObject</a></li><li><a href="#type-nativepointer">type NativePointer</a></li><li><a href="#type-type">type Type</a></li><li><a href="#func-type_of">func type_of</a></li></ul></li><li><p><a href="#containers">Containers</a></p><ul><li><a href="#type-tuple">type Tuple</a></li><li><a href="#type-record">type Record</a></li><li><a href="#type-array">type Array</a></li><li><a href="#type-buffer">type Buffer</a></li><li><a href="#type-map">type Map</a></li><li><a href="#type-set">type Set</a></li></ul></li><li><p><a href="#strings">Strings</a></p><ul><li><a href="#type-string">type String</a></li><li><a href="#type-stringslice">type StringSlice</a></li><li><a href="#type-stringbuilder">type StringBuilder</a></li><li><a href="#func-new_string_builder">func new_string_builder</a></li></ul></li><li><p><a href="#input-and-output">Input and output</a></p><ul><li><a href="#func-print">func print</a></li><li><a href="#func-loop_timestamp">func loop_timestamp</a></li></ul></li><li><p><a href="#coroutines">Coroutines</a></p><ul><li><a href="#type-coroutine">type Coroutine</a></li><li><a href="#type-coroutinetoken">type CoroutineToken</a></li><li><a href="#func-current_coroutine">func current_coroutine</a></li><li><a href="#func-launch">func launch</a></li><li><a href="#func-dispatch">func dispatch</a></li><li><a href="#func-coroutine_token">func coroutine_token</a></li><li><a href="#func-yield_coroutine">func yield_coroutine</a></li></ul></li><li><p><a href="#error-handling">Error handling</a></p><ul><li><a href="#type-result">type Result</a></li><li><a href="#func-success">func success</a></li><li><a href="#func-failure">func failure</a></li><li><a href="#type-exception">type Exception</a></li><li><a href="#func-panic">func panic</a></li><li><a href="#func-catch_panic">func catch_panic</a></li></ul></li></ul><h2 id="basic-types-and-functions"><a class="anchor-link" href="#basic-types-and-functions">#</a>Basic types and functions</h2><h3 id="type-boolean"><a class="anchor-link" href="#type-boolean">#</a>type Boolean</h3><p>The type of <code>true</code> and <code>false</code>.</p><h3 id="type-integer"><a class="anchor-link" href="#type-integer">#</a>type Integer</h3><p>The type of integer expressions such as <code>7</code> or <code>0x1F</code>.</p><h3 id="type-float"><a class="anchor-link" href="#type-float">#</a>type Float</h3><p>Type type of floating point expressions such as <code>1.25</code>.</p><h3 id="type-null"><a class="anchor-link" href="#type-null">#</a>type Null</h3><p>The type of the constant <code>null</code>.</p><h3 id="type-symbol"><a class="anchor-link" href="#type-symbol">#</a>type Symbol</h3><p>The type of symbol literals, e.g. <code>#answer</code>.</p><h3 id="type-function"><a class="anchor-link" href="#type-function">#</a>type Function</h3><p>The type of all functions.</p><h3 id="type-module"><a class="anchor-link" href="#type-module">#</a>type Module</h3><p>The type of all modules:</p><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">import std;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">// std.type_of(std) == std.Module</span></div></pre></div><h3 id="type-nativeobject"><a class="anchor-link" href="#type-nativeobject">#</a>type NativeObject</h3><p>The type of native objects that have been exposed to tiro.
The tiro runtime manages the lifetime (and the storage) of these objects, which usually includes invoking a native finalizer when the object is collected.</p><h3 id="type-nativepointer"><a class="anchor-link" href="#type-nativepointer">#</a>type NativePointer</h3><p>The type of a native pointer that has been exposed to tiro.
The tiro runtime does <em>not</em> manage these objects in any way, which makes them very cheap to use.</p><h3 id="type-type"><a class="anchor-link" href="#type-type">#</a>type Type</h3><p>The type of all types. In other words, <code>std.type_of(value)</code> will always return an instance of this type for any kind of value.</p><h3 id="func-type_of"><a class="anchor-link" href="#func-type_of">#</a>func type_of</h3><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func type_of(v: Value): Type;</span></div></pre></div><p>Returns the type of <code>v</code>. For example:</p><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">assert(std.type_of(true) == std.Boolean);</span></div></pre></div><h2 id="containers"><a class="anchor-link" href="#containers">#</a>Containers</h2><h3 id="type-tuple"><a class="anchor-link" href="#type-tuple">#</a>type Tuple</h3><p>The type of all tuples, e.g. <code>()</code>, <code>(1,)</code> or <code>(1, 2)</code>.</p><h3 id="type-record"><a class="anchor-link" href="#type-record">#</a>type Record</h3><p>The type of all records, e.g. <code>(:)</code> or <code>(foo: &quot;bar&quot;)</code>.</p><h3 id="type-array"><a class="anchor-link" href="#type-array">#</a>type Array</h3><p>The type of all arrays, e.g. <code>[]</code> and <code>[a, b, c]</code>.</p><p>An array is a dynamic sequence of items that can grow or shrink as needed.
Existing items can be read or written using the indexing operator, e.g. <code>const first = array[0]</code> or <code>array[0] = &quot;first&quot;</code>.
The sequence of items can be manipulated using the methods below.</p><h4 id="func-arraysize"><a class="anchor-link" href="#func-arraysize">#</a>func Array.size</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Array.size(): Integer;</span></div></pre></div><p>Returns the number of items in the array.</p><h4 id="func-arrayappend"><a class="anchor-link" href="#func-arrayappend">#</a>func Array.append</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Array.append(v: Value);</span></div></pre></div><p>Appends <code>v</code> to the array.</p><h4 id="func-arrayclear"><a class="anchor-link" href="#func-arrayclear">#</a>func Array.clear</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Array.clear()</span></div></pre></div><p>Removes all items from the array.</p><h3 id="type-buffer"><a class="anchor-link" href="#type-buffer">#</a>type Buffer</h3><p>Buffers reference a raw region of memory, i.e. a blog of bytes.
They are especially useful when doing I/O or when manipulating large amounts of data.</p><p>TODO: usage</p><h4 id="func-buffersize"><a class="anchor-link" href="#func-buffersize">#</a>func Buffer.size</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Buffer.size(): Integer;</span></div></pre></div><p>Returns the number of items in the buffer.</p><h3 id="type-map"><a class="anchor-link" href="#type-map">#</a>type Map</h3><p>A map is a container that associates <em>keys</em> with <em>values</em>.
The key-value associations can be manipulated at will.
Given a key, a map allows for efficient lookup (and update) of the associated value.</p><p>Maps are implemented as <a href="https://en.wikipedia.org/wiki/Hash_table" rel="noopener noreferrer" target="_blank"><span icon="share" style="vertical-align:baseline;padding-right:4px" class="bp3-icon bp3-icon-share"><svg data-icon="share" width="12" height="12" viewBox="0 0 16 16"><desc>share</desc><path d="M10.99 13.99h-9v-9h4.76l2-2H.99c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h11c.55 0 1-.45 1-1V7.24l-2 2v4.75zm4-14h-5c-.55 0-1 .45-1 1s.45 1 1 1h2.59L7.29 7.28a1 1 0 00-.3.71 1.003 1.003 0 001.71.71l5.29-5.29V6c0 .55.45 1 1 1s1-.45 1-1V1c0-.56-.45-1.01-1-1.01z" fill-rule="evenodd"></path></svg></span>hash tables</a>.</p><h4 id="map-insertion-order"><a class="anchor-link" href="#map-insertion-order">#</a>Insertion order</h4><p>Contrary to most other hash table implementations, tiro&#x27;s map preserves the insertion order of its mappings.
When iterating a map, keys and values are visited in the order in which they were inserted:</p><ul><li>A new key-value mapping (i.e. a key that was not already in the map) is always inserted at the end.</li><li>Updating an existing key-value mapping (i.e. key already exists in the map) does not change its order in the map.</li><li>Removing a key-value mapping preserves the order of all remaining mappings.</li></ul><span class="caption">Example: iterating over a map</span><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">import std;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">export func main() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    const m = map{};</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    m[1] = &quot;one&quot;;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    m[2] = &quot;two&quot;;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    m[3] = &quot;three&quot;;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    // Guaranteed output:</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    // 1 one</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    // 2 two</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    // 3 three</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    for (key, value) in m {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        std.print(key, value);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></pre></div><h4 id="func-mapsize"><a class="anchor-link" href="#func-mapsize">#</a>func Map.size</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Map.size(): Integer;</span></div></pre></div><p>Returns the number of key-value mappings in the map.</p><h4 id="func-mapcontains"><a class="anchor-link" href="#func-mapcontains">#</a>func Map.contains</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Map.contains(key: Value): Boolean;</span></div></pre></div><p>Returns <code>true</code> if there is a value associated with <code>key</code>, <code>false</code> otherwise.</p><h4 id="func-mapkeys"><a class="anchor-link" href="#func-mapkeys">#</a>func Map.keys</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Map.keys(): Iterable;</span></div></pre></div><p>Returns an iterable view over the keys within the map.
The iteration order is the same as the map&#x27;s order.</p><h4 id="func-mapvalues"><a class="anchor-link" href="#func-mapvalues">#</a>func Map.values</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Map.values(): Iterable;</span></div></pre></div><p>Returns an iterable view over the values within the map.
The iteration order is the same as the map&#x27;s order.</p><h4 id="func-mapclear"><a class="anchor-link" href="#func-mapclear">#</a>func Map.clear</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Map.clear();</span></div></pre></div><p>Removes all key-value mappings from the map.</p><h4 id="func-mapremove"><a class="anchor-link" href="#func-mapremove">#</a>func Map.remove</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Map.remove(key: Value);</span></div></pre></div><p>Removes the key-value mapping for <code>key</code>.
Does nothing if there is no such mapping.</p><p>TODO: Return true/false?</p><h3 id="type-set"><a class="anchor-link" href="#type-set">#</a>type Set</h3><p>A set is a container that stores unique items.
Items can be inserted or removed at will, and their existence can be tested efficiently.</p><p>Like maps, they are implemented as <a href="https://en.wikipedia.org/wiki/Hash_table" rel="noopener noreferrer" target="_blank"><span icon="share" style="vertical-align:baseline;padding-right:4px" class="bp3-icon bp3-icon-share"><svg data-icon="share" width="12" height="12" viewBox="0 0 16 16"><desc>share</desc><path d="M10.99 13.99h-9v-9h4.76l2-2H.99c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h11c.55 0 1-.45 1-1V7.24l-2 2v4.75zm4-14h-5c-.55 0-1 .45-1 1s.45 1 1 1h2.59L7.29 7.28a1 1 0 00-.3.71 1.003 1.003 0 001.71.71l5.29-5.29V6c0 .55.45 1 1 1s1-.45 1-1V1c0-.56-.45-1.01-1-1.01z" fill-rule="evenodd"></path></svg></span>hash tables</a>.</p><h4 id="set-insertion-order"><a class="anchor-link" href="#set-insertion-order">#</a>Insertion order</h4><p>When iterating a set, its items are visited in the order they were inserted in.
See also <a href="#map-insertion-order">map insertion order</a>.</p><h4 id="func-setsize"><a class="anchor-link" href="#func-setsize">#</a>func Set.size</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Set.size(): Integer;</span></div></pre></div><p>Returns the number of items in the set.</p><h4 id="func-setcontains"><a class="anchor-link" href="#func-setcontains">#</a>func Set.contains</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Set.contains(item: Value): Boolean;</span></div></pre></div><p>Returns <code>true</code> if the set contains <code>item</code>, <code>false</code> otherwise.</p><h4 id="func-setclear"><a class="anchor-link" href="#func-setclear">#</a>func Set.clear</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Set.clear();</span></div></pre></div><p>Removes all items from the set.</p><h4 id="func-setinsert"><a class="anchor-link" href="#func-setinsert">#</a>func Set.insert</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Set.insert(item: Value): Boolean;</span></div></pre></div><p>Inserts <code>item</code> into the set.
Returns <code>true</code> if item has been inserted, <code>false</code> if it already existed.</p><h4 id="func-setremove"><a class="anchor-link" href="#func-setremove">#</a>func Set.remove</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Set.remove(item: Value);</span></div></pre></div><p>Removes <code>item</code> from the set.
Does nothing if <code>item</code> does not exist in the set.</p><p>TODO: Return true/false?</p><h2 id="strings"><a class="anchor-link" href="#strings">#</a>Strings</h2><h3 id="type-string"><a class="anchor-link" href="#type-string">#</a>type String</h3><p>The type of all string expressions.
Strings are immutable.</p><p>TODO: Unicode strings</p><p>TODO: Internal representation is guaranteed to be UTF-8</p><h3 id="type-stringslice"><a class="anchor-link" href="#type-stringslice">#</a>type StringSlice</h3><h3 id="type-stringbuilder"><a class="anchor-link" href="#type-stringbuilder">#</a>type StringBuilder</h3><h3 id="func-new_string_builder"><a class="anchor-link" href="#func-new_string_builder">#</a>func new_string_builder</h3><h2 id="input-and-output"><a class="anchor-link" href="#input-and-output">#</a>Input and output</h2><h3 id="func-print"><a class="anchor-link" href="#func-print">#</a>func print</h3><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func print(values...: Value...);</span></div></pre></div><p>Prints the given values followed by a new line.</p><h3 id="func-loop_timestamp"><a class="anchor-link" href="#func-loop_timestamp">#</a>func loop_timestamp</h3><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func loop_timestamp(): Integer;</span></div></pre></div><p>Returns the current loop timestamp.</p><p>The returned value is the number of <em>milliseconds</em> since some arbitrary starting point - usually the start of the program - until the start of the current main loop iteration.
The value is guaranteed to be <em>monotonic</em>, i.e. it will never decrease.</p><p>The loop timestamp is refreshed on every iteration of the runtime&#x27;s main loop.
A single iteration involves calling all ready coroutines and continues until all coroutines are either done or waiting for the completion of an asynchronous function.</p><p>Within the same iteration, <code>loop_timestamp()</code> will always return the same value.</p><h2 id="coroutines"><a class="anchor-link" href="#coroutines">#</a>Coroutines</h2><p>Tiro&#x27;s coroutines implement <a href="https://en.wikipedia.org/wiki/Cooperative_multitasking" rel="noopener noreferrer" target="_blank"><span icon="share" style="vertical-align:baseline;padding-right:4px" class="bp3-icon bp3-icon-share"><svg data-icon="share" width="12" height="12" viewBox="0 0 16 16"><desc>share</desc><path d="M10.99 13.99h-9v-9h4.76l2-2H.99c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h11c.55 0 1-.45 1-1V7.24l-2 2v4.75zm4-14h-5c-.55 0-1 .45-1 1s.45 1 1 1h2.59L7.29 7.28a1 1 0 00-.3.71 1.003 1.003 0 001.71.71l5.29-5.29V6c0 .55.45 1 1 1s1-.45 1-1V1c0-.56-.45-1.01-1-1.01z" fill-rule="evenodd"></path></svg></span>cooperative multitasking</a> within a shared operating system thread.
This means that a coroutine will continue running until it gives up control voluntarily.
It will never be preempted by a scheduler behind the scenes.</p><p>In order to give up control (also called <em>yielding</em>), a coroutine can perform one of the following actions:</p><ul><li><p>Call an asynchronous function.
Asynchronous functions usually yield behind the scenes automatically, transparent to the caller.
They can be implemented in native code or by using the the <a href="#func-yield_coroutine">yield_coroutine()</a> function (like the function <code>lock()</code> in the <a href="#mutex-example">mutex example</a>).</p><p>While an asynchronous function waits for its completion, other coroutines can execute on the shared operating system thread.</p></li><li><p>Call <a href="#func-dispatch">dispatch()</a>.
Other coroutines that are ready to execute will have the chance to run.
The current coroutine will resume execution once those coroutines have yielded.</p><p>It can be useful to invoke <code>dispatch()</code> in potentially long loops to avoid blocking the system for too long.</p></li><li><p>Call <a href="#func-yield_coroutine">yield_coroutine()</a>.
This will stop the coroutine until it has been manually resumed by another coroutine.
Care must be taken when using this primitive function!</p></li></ul><h3 id="type-coroutine"><a class="anchor-link" href="#type-coroutine">#</a>type Coroutine</h3><p>Coroutines represent lightweight threads of execution within a single operating system thread.
They are created through the native API or by calling <code>std.launch()</code>.</p><h3 id="type-coroutinetoken"><a class="anchor-link" href="#type-coroutinetoken">#</a>type CoroutineToken</h3><h3 id="func-current_coroutine"><a class="anchor-link" href="#func-current_coroutine">#</a>func current_coroutine</h3><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func current_coroutine(): Coroutine;</span></div></pre></div><p>Returns the current <a href="#type-coroutine">Coroutine</a> instance, i.e. the coroutine from which <code>current_coroutine()</code> was called.</p><h3 id="func-launch"><a class="anchor-link" href="#func-launch">#</a>func launch</h3><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func launch(fn: Function, args...: Value...): Coroutine;</span></div></pre></div><p>Executes <code>fn(args...)</code> from within a new coroutine.
The coroutine instance is returned by this function.</p><p>TODO: Should we return a future instead?</p><h3 id="func-dispatch"><a class="anchor-link" href="#func-dispatch">#</a>func dispatch</h3><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func dispatch();</span></div></pre></div><p>Dispatches to other ready coroutines.
The current coroutine will resume execution after all other ready coroutines had the opportunity to run.</p><h3 id="func-coroutine_token"><a class="anchor-link" href="#func-coroutine_token">#</a>func coroutine_token</h3><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func coroutine_token(): CoroutineToken;</span></div></pre></div><p>Returns a <a href="#type-coroutinetoken">CoroutineToken</a> instance suitable for resuming the current coroutine.
Coroutine tokens are invalidated after the coroutine has been resumed again.
See <a href="#func-yield_coroutine">yield_coroutine()</a> for an example.</p><p>WARNING: This is a low level API designed to control the execution of a coroutine manually.
It should only be used to create new asynchronous abstractions.</p><h3 id="func-yield_coroutine"><a class="anchor-link" href="#func-yield_coroutine">#</a>func yield_coroutine</h3><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func yield_coroutine();</span></div></pre></div><p>Immediately pauses execution of the current coroutine.
Execution will only continue once the coroutine has been resumed via a <a href="#type-coroutinetoken">CoroutineToken</a> previously obtained from <a href="#func-coroutine_token">coroutine_token()</a>.</p><p>WARNING: This is a low level API designed to control the execution of a coroutine manually.
It should only be used to create new asynchronous abstractions.</p><a id="mutex-example"></a><span class="caption">Example: a simple Mutex</span><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">import std;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">export func main() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    const mutex = createMutex();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    const task = func(id) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        for var i = 0; i &lt; 3; i += 1 {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            mutex.lock();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            std.print(&quot;Hello from ${id}&quot;);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            std.dispatch(); // Other coroutine can observe a locked mutex</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            mutex.unlock();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    };</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    std.launch(task, &quot;1&quot;);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    std.launch(task, &quot;2&quot;);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">// Creates a simplistic mutex that only supports two coroutines.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func createMutex() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    // Coroutine token if another coroutine is already waiting.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    var waiter = null;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    var locked = false;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    return (</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        lock: func() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            if locked {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                if waiter != null {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                    std.panic(&quot;Cannot support more than one waiter&quot;);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                // Wait until the other coroutine unlocks.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                waiter = std.coroutine_token();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                std.yield_coroutine();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            // At this point, either the mutex wasn&#x27;t initially locked</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            // or yield_coroutine() returned, i.e. the other coroutine unlocked.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            assert(!locked);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            locked = true;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        unlock: func() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            if !locked {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                std.panic(&quot;Mutex was not locked&quot;);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            locked = false;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            if waiter {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                waiter.resume();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                waiter = null;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            // Give other coroutines the opportunity to run</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            std.dispatch();</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    );</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></pre></div><h2 id="error-handling"><a class="anchor-link" href="#error-handling">#</a>Error handling</h2><h3 id="type-result"><a class="anchor-link" href="#type-result">#</a>type Result</h3><p>A result represents the result of an operation that may fail.
The result type is the basic primitive type used in tiro&#x27;s error handling facilities.</p><p>Results may be in one of two states:</p><ul><li><p><em>Success</em>. Calling <code>result.value()</code> returns the result of the operation.</p></li><li><p><em>Failure</em>. Calling <code>result.reason()</code> returns a value explaining why the operation failed.</p></li></ul><p>Results are constructed by calling the <a href="#func-success">success()</a> and <a href="#func-failure">failure()</a> functions.</p><span class="caption">Example: simple error handling</span><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">import std;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">export func main() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    const result1 = operation(5);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    std.print(result1.type(), result1.value()); // #success 10</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    const result2 = operation(-5);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    std.print(result2.type(), result2.reason()); // #failure value too small!</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func operation(n) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">     if (n &lt; 0) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        return std.failure(&quot;value too small!&quot;);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    } else {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        return std.success(n * 2);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></pre></div><h4 id="func-resulttype"><a class="anchor-link" href="#func-resulttype">#</a>func Result.type</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Result.type(): Symbol;</span></div></pre></div><p>Returns either <code>#success</code> or <code>#failure</code>, depending on the result&#x27;s state.</p><h4 id="func-resultis_success"><a class="anchor-link" href="#func-resultis_success">#</a>func Result.is_success</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Result.is_success(): Boolean;</span></div></pre></div><p>Returns <code>true</code> if the result represents success, <code>false</code> otherwise.</p><h4 id="func-resultis_failure"><a class="anchor-link" href="#func-resultis_failure">#</a>func Result.is_failure</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Result.is_failure(): Boolean;</span></div></pre></div><p>Returns <code>true</code> if the result represents failure, <code>false</code> otherwise.</p><h4 id="func-resultvalue"><a class="anchor-link" href="#func-resultvalue">#</a>func Result.value</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Result.value(): Value;</span></div></pre></div><p>Returns the result&#x27;s value.
Requires that the result represents success.</p><h4 id="func-resultreason"><a class="anchor-link" href="#func-resultreason">#</a>func Result.reason</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Result.reason(): Value;</span></div></pre></div><p>Returns the result&#x27;s reason.
Requires that the result represents failure.</p><h3 id="func-success"><a class="anchor-link" href="#func-success">#</a>func success</h3><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func success(value: Value): Result;</span></div></pre></div><p>Returns a new successful <a href="#type-result">Result</a> that holds the given <code>value</code>.</p><h3 id="func-failure"><a class="anchor-link" href="#func-failure">#</a>func failure</h3><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func failure(reason: value): Result;</span></div></pre></div><p>Returns a new failure <a href="#type-result">Result</a> that holds the given <code>reason</code>.</p><h3 id="type-exception"><a class="anchor-link" href="#type-exception">#</a>type Exception</h3><p>Exceptions represent unexpected (and often fatal) errors encountered during program execution.
They are generated when code panics, for example by calling <a href="#func-panic">panic()</a>.</p><p>It is often preferable to use the less intrusive <a href="#type-result">Result</a> type instead.
Panicking should be reserved for signaling critical error conditions such as programming errors.</p><p>TODO: Other properties (stack trace, user data, secondary exceptions)</p><h4 id="func-exceptionmessage"><a class="anchor-link" href="#func-exceptionmessage">#</a>func Exception.message</h4><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func Exception.message(): String;</span></div></pre></div><p>Returns the exception&#x27;s error message.</p><h3 id="func-panic"><a class="anchor-link" href="#func-panic">#</a>func panic</h3><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func panic(message: String);</span></div></pre></div><p>Immediately aborts execution of the current function with an error explained by <code>message</code>.
From within the <code>panic</code> function, a new <a href="#type-exception">Exception</a> is constructed with the given <code>message</code> and <a href="https://en.wikipedia.org/wiki/Call_stack#Unwinding" rel="noopener noreferrer" target="_blank"><span icon="share" style="vertical-align:baseline;padding-right:4px" class="bp3-icon bp3-icon-share"><svg data-icon="share" width="12" height="12" viewBox="0 0 16 16"><desc>share</desc><path d="M10.99 13.99h-9v-9h4.76l2-2H.99c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h11c.55 0 1-.45 1-1V7.24l-2 2v4.75zm4-14h-5c-.55 0-1 .45-1 1s.45 1 1 1h2.59L7.29 7.28a1 1 0 00-.3.71 1.003 1.003 0 001.71.71l5.29-5.29V6c0 .55.45 1 1 1s1-.45 1-1V1c0-.56-.45-1.01-1-1.01z" fill-rule="evenodd"></path></svg></span>stack unwinding</a> is started.
Unwinding can be stopped by using the <a href="#func-catch_panic">catch_panic</a> function.</p><p>This function is designed to report <em>unexpected</em> errors such as programming errors.
Use the <a href="#type-result">Result</a> type instead if errors can be expected, e.g. to report missing files.</p><h3 id="func-catch_panic"><a class="anchor-link" href="#func-catch_panic">#</a>func catch_panic</h3><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func catch_panic(fn: Function): Result;</span></div></pre></div><p>Invokes <code>fn()</code> and stops propagation of any non-fatal panic thrown by <code>fn</code> or its callees.
After execution of <code>fn()</code> completes (either through panic or through normal return), a <a href="#type-result">Result</a> is returned:</p><ul><li>If <code>fn</code> returned normally, its return value is wrapped into a success result and returned.</li><li>If a panic was caught, a failure result is returned. The result&#x27;s <code>reason</code> is set to the caught value.</li></ul><span class="caption">Example: catching a panic from a function</span><div><pre class="prism-code language-plain" style="color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">import std;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">export func main() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    const result = std.catch_panic(may_fail);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    if (result.is_success()) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        std.print(&quot;success:&quot;, result.value());</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    } else {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        std.print(&quot;failure:&quot;, result.reason().message());</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">func may_fail() {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    // Replace `false` with `true` to return normally</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    if (false) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        return 42;</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    } else {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        std.panic(&quot;help!&quot;);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></pre></div></div></article></div></main></div> </div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"slug":"stdlib","frontMatter":{"title":"The standard library","slug":"/stdlib"},"mdx":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"the-standard-library\"\n  }, mdx(\"a\", {\n    parentName: \"h1\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#the-standard-library\"\n  }, \"#\"), \"The standard library\"), mdx(\"p\", null, \"Basic types and functions provided by the runtime.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"import std;\\n\")), mdx(\"h2\", {\n    \"id\": \"contents\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#contents\"\n  }, \"#\"), \"Contents\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#basic-types-and-functions\"\n  }, \"Basic types and functions\")), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-boolean\"\n  }, \"type Boolean\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-integer\"\n  }, \"type Integer\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-float\"\n  }, \"type Float\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-null\"\n  }, \"type Null\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-symbol\"\n  }, \"type Symbol\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-function\"\n  }, \"type Function\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-module\"\n  }, \"type Module\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-nativeobject\"\n  }, \"type NativeObject\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-nativepointer\"\n  }, \"type NativePointer\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-type\"\n  }, \"type Type\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#func-type_of\"\n  }, \"func type_of\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#containers\"\n  }, \"Containers\")), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-tuple\"\n  }, \"type Tuple\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-record\"\n  }, \"type Record\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-array\"\n  }, \"type Array\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-buffer\"\n  }, \"type Buffer\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-map\"\n  }, \"type Map\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-set\"\n  }, \"type Set\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#strings\"\n  }, \"Strings\")), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-string\"\n  }, \"type String\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-stringslice\"\n  }, \"type StringSlice\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-stringbuilder\"\n  }, \"type StringBuilder\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#func-new_string_builder\"\n  }, \"func new_string_builder\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#input-and-output\"\n  }, \"Input and output\")), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#func-print\"\n  }, \"func print\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#func-loop_timestamp\"\n  }, \"func loop_timestamp\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#coroutines\"\n  }, \"Coroutines\")), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-coroutine\"\n  }, \"type Coroutine\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-coroutinetoken\"\n  }, \"type CoroutineToken\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#func-current_coroutine\"\n  }, \"func current_coroutine\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#func-launch\"\n  }, \"func launch\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#func-dispatch\"\n  }, \"func dispatch\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#func-coroutine_token\"\n  }, \"func coroutine_token\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#func-yield_coroutine\"\n  }, \"func yield_coroutine\")))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#error-handling\"\n  }, \"Error handling\")), mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-result\"\n  }, \"type Result\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#func-success\"\n  }, \"func success\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#func-failure\"\n  }, \"func failure\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#type-exception\"\n  }, \"type Exception\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#func-panic\"\n  }, \"func panic\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#func-catch_panic\"\n  }, \"func catch_panic\"))))), mdx(\"h2\", {\n    \"id\": \"basic-types-and-functions\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#basic-types-and-functions\"\n  }, \"#\"), \"Basic types and functions\"), mdx(\"h3\", {\n    \"id\": \"type-boolean\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-boolean\"\n  }, \"#\"), \"type Boolean\"), mdx(\"p\", null, \"The type of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"true\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"false\"), \".\"), mdx(\"h3\", {\n    \"id\": \"type-integer\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-integer\"\n  }, \"#\"), \"type Integer\"), mdx(\"p\", null, \"The type of integer expressions such as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"7\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"0x1F\"), \".\"), mdx(\"h3\", {\n    \"id\": \"type-float\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-float\"\n  }, \"#\"), \"type Float\"), mdx(\"p\", null, \"Type type of floating point expressions such as \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"1.25\"), \".\"), mdx(\"h3\", {\n    \"id\": \"type-null\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-null\"\n  }, \"#\"), \"type Null\"), mdx(\"p\", null, \"The type of the constant \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"null\"), \".\"), mdx(\"h3\", {\n    \"id\": \"type-symbol\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-symbol\"\n  }, \"#\"), \"type Symbol\"), mdx(\"p\", null, \"The type of symbol literals, e.g. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"#answer\"), \".\"), mdx(\"h3\", {\n    \"id\": \"type-function\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-function\"\n  }, \"#\"), \"type Function\"), mdx(\"p\", null, \"The type of all functions.\"), mdx(\"h3\", {\n    \"id\": \"type-module\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-module\"\n  }, \"#\"), \"type Module\"), mdx(\"p\", null, \"The type of all modules:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"import std;\\n// std.type_of(std) == std.Module\\n\")), mdx(\"h3\", {\n    \"id\": \"type-nativeobject\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-nativeobject\"\n  }, \"#\"), \"type NativeObject\"), mdx(\"p\", null, \"The type of native objects that have been exposed to tiro.\\nThe tiro runtime manages the lifetime (and the storage) of these objects, which usually includes invoking a native finalizer when the object is collected.\"), mdx(\"h3\", {\n    \"id\": \"type-nativepointer\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-nativepointer\"\n  }, \"#\"), \"type NativePointer\"), mdx(\"p\", null, \"The type of a native pointer that has been exposed to tiro.\\nThe tiro runtime does \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"not\"), \" manage these objects in any way, which makes them very cheap to use.\"), mdx(\"h3\", {\n    \"id\": \"type-type\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-type\"\n  }, \"#\"), \"type Type\"), mdx(\"p\", null, \"The type of all types. In other words, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"std.type_of(value)\"), \" will always return an instance of this type for any kind of value.\"), mdx(\"h3\", {\n    \"id\": \"func-type_of\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-type_of\"\n  }, \"#\"), \"func type_of\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func type_of(v: Value): Type;\\n\")), mdx(\"p\", null, \"Returns the type of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"v\"), \". For example:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"assert(std.type_of(true) == std.Boolean);\\n\")), mdx(\"h2\", {\n    \"id\": \"containers\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#containers\"\n  }, \"#\"), \"Containers\"), mdx(\"h3\", {\n    \"id\": \"type-tuple\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-tuple\"\n  }, \"#\"), \"type Tuple\"), mdx(\"p\", null, \"The type of all tuples, e.g. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"()\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"(1,)\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"(1, 2)\"), \".\"), mdx(\"h3\", {\n    \"id\": \"type-record\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-record\"\n  }, \"#\"), \"type Record\"), mdx(\"p\", null, \"The type of all records, e.g. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"(:)\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"(foo: \\\"bar\\\")\"), \".\"), mdx(\"h3\", {\n    \"id\": \"type-array\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-array\"\n  }, \"#\"), \"type Array\"), mdx(\"p\", null, \"The type of all arrays, e.g. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"[]\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"[a, b, c]\"), \".\"), mdx(\"p\", null, \"An array is a dynamic sequence of items that can grow or shrink as needed.\\nExisting items can be read or written using the indexing operator, e.g. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"const first = array[0]\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"array[0] = \\\"first\\\"\"), \".\\nThe sequence of items can be manipulated using the methods below.\"), mdx(\"h4\", {\n    \"id\": \"func-arraysize\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-arraysize\"\n  }, \"#\"), \"func Array.size\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Array.size(): Integer;\\n\")), mdx(\"p\", null, \"Returns the number of items in the array.\"), mdx(\"h4\", {\n    \"id\": \"func-arrayappend\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-arrayappend\"\n  }, \"#\"), \"func Array.append\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Array.append(v: Value);\\n\")), mdx(\"p\", null, \"Appends \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"v\"), \" to the array.\"), mdx(\"h4\", {\n    \"id\": \"func-arrayclear\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-arrayclear\"\n  }, \"#\"), \"func Array.clear\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Array.clear()\\n\")), mdx(\"p\", null, \"Removes all items from the array.\"), mdx(\"h3\", {\n    \"id\": \"type-buffer\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-buffer\"\n  }, \"#\"), \"type Buffer\"), mdx(\"p\", null, \"Buffers reference a raw region of memory, i.e. a blog of bytes.\\nThey are especially useful when doing I/O or when manipulating large amounts of data.\"), mdx(\"p\", null, \"TODO: usage\"), mdx(\"h4\", {\n    \"id\": \"func-buffersize\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-buffersize\"\n  }, \"#\"), \"func Buffer.size\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Buffer.size(): Integer;\\n\")), mdx(\"p\", null, \"Returns the number of items in the buffer.\"), mdx(\"h3\", {\n    \"id\": \"type-map\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-map\"\n  }, \"#\"), \"type Map\"), mdx(\"p\", null, \"A map is a container that associates \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"keys\"), \" with \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"values\"), \".\\nThe key-value associations can be manipulated at will.\\nGiven a key, a map allows for efficient lookup (and update) of the associated value.\"), mdx(\"p\", null, \"Maps are implemented as \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://en.wikipedia.org/wiki/Hash_table\"\n  }, \"hash tables\"), \".\"), mdx(\"h4\", {\n    \"id\": \"map-insertion-order\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#map-insertion-order\"\n  }, \"#\"), \"Insertion order\"), mdx(\"p\", null, \"Contrary to most other hash table implementations, tiro's map preserves the insertion order of its mappings.\\nWhen iterating a map, keys and values are visited in the order in which they were inserted:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A new key-value mapping (i.e. a key that was not already in the map) is always inserted at the end.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Updating an existing key-value mapping (i.e. key already exists in the map) does not change its order in the map.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Removing a key-value mapping preserves the order of all remaining mappings.\")), mdx(\"span\", {\n    className: \"caption\"\n  }, \"Example: iterating over a map\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"import std;\\n\\nexport func main() {\\n    const m = map{};\\n    m[1] = \\\"one\\\";\\n    m[2] = \\\"two\\\";\\n    m[3] = \\\"three\\\";\\n\\n    // Guaranteed output:\\n    // 1 one\\n    // 2 two\\n    // 3 three\\n    for (key, value) in m {\\n        std.print(key, value);\\n    }\\n}\\n\")), mdx(\"h4\", {\n    \"id\": \"func-mapsize\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-mapsize\"\n  }, \"#\"), \"func Map.size\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Map.size(): Integer;\\n\")), mdx(\"p\", null, \"Returns the number of key-value mappings in the map.\"), mdx(\"h4\", {\n    \"id\": \"func-mapcontains\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-mapcontains\"\n  }, \"#\"), \"func Map.contains\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Map.contains(key: Value): Boolean;\\n\")), mdx(\"p\", null, \"Returns \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"true\"), \" if there is a value associated with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"key\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"false\"), \" otherwise.\"), mdx(\"h4\", {\n    \"id\": \"func-mapkeys\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-mapkeys\"\n  }, \"#\"), \"func Map.keys\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Map.keys(): Iterable;\\n\")), mdx(\"p\", null, \"Returns an iterable view over the keys within the map.\\nThe iteration order is the same as the map's order.\"), mdx(\"h4\", {\n    \"id\": \"func-mapvalues\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-mapvalues\"\n  }, \"#\"), \"func Map.values\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Map.values(): Iterable;\\n\")), mdx(\"p\", null, \"Returns an iterable view over the values within the map.\\nThe iteration order is the same as the map's order.\"), mdx(\"h4\", {\n    \"id\": \"func-mapclear\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-mapclear\"\n  }, \"#\"), \"func Map.clear\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Map.clear();\\n\")), mdx(\"p\", null, \"Removes all key-value mappings from the map.\"), mdx(\"h4\", {\n    \"id\": \"func-mapremove\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-mapremove\"\n  }, \"#\"), \"func Map.remove\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Map.remove(key: Value);\\n\")), mdx(\"p\", null, \"Removes the key-value mapping for \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"key\"), \".\\nDoes nothing if there is no such mapping.\"), mdx(\"p\", null, \"TODO: Return true/false?\"), mdx(\"h3\", {\n    \"id\": \"type-set\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-set\"\n  }, \"#\"), \"type Set\"), mdx(\"p\", null, \"A set is a container that stores unique items.\\nItems can be inserted or removed at will, and their existence can be tested efficiently.\"), mdx(\"p\", null, \"Like maps, they are implemented as \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://en.wikipedia.org/wiki/Hash_table\"\n  }, \"hash tables\"), \".\"), mdx(\"h4\", {\n    \"id\": \"set-insertion-order\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#set-insertion-order\"\n  }, \"#\"), \"Insertion order\"), mdx(\"p\", null, \"When iterating a set, its items are visited in the order they were inserted in.\\nSee also \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#map-insertion-order\"\n  }, \"map insertion order\"), \".\"), mdx(\"h4\", {\n    \"id\": \"func-setsize\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-setsize\"\n  }, \"#\"), \"func Set.size\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Set.size(): Integer;\\n\")), mdx(\"p\", null, \"Returns the number of items in the set.\"), mdx(\"h4\", {\n    \"id\": \"func-setcontains\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-setcontains\"\n  }, \"#\"), \"func Set.contains\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Set.contains(item: Value): Boolean;\\n\")), mdx(\"p\", null, \"Returns \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"true\"), \" if the set contains \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"item\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"false\"), \" otherwise.\"), mdx(\"h4\", {\n    \"id\": \"func-setclear\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-setclear\"\n  }, \"#\"), \"func Set.clear\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Set.clear();\\n\")), mdx(\"p\", null, \"Removes all items from the set.\"), mdx(\"h4\", {\n    \"id\": \"func-setinsert\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-setinsert\"\n  }, \"#\"), \"func Set.insert\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Set.insert(item: Value): Boolean;\\n\")), mdx(\"p\", null, \"Inserts \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"item\"), \" into the set.\\nReturns \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"true\"), \" if item has been inserted, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"false\"), \" if it already existed.\"), mdx(\"h4\", {\n    \"id\": \"func-setremove\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-setremove\"\n  }, \"#\"), \"func Set.remove\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Set.remove(item: Value);\\n\")), mdx(\"p\", null, \"Removes \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"item\"), \" from the set.\\nDoes nothing if \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"item\"), \" does not exist in the set.\"), mdx(\"p\", null, \"TODO: Return true/false?\"), mdx(\"h2\", {\n    \"id\": \"strings\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#strings\"\n  }, \"#\"), \"Strings\"), mdx(\"h3\", {\n    \"id\": \"type-string\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-string\"\n  }, \"#\"), \"type String\"), mdx(\"p\", null, \"The type of all string expressions.\\nStrings are immutable.\"), mdx(\"p\", null, \"TODO: Unicode strings\"), mdx(\"p\", null, \"TODO: Internal representation is guaranteed to be UTF-8\"), mdx(\"h3\", {\n    \"id\": \"type-stringslice\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-stringslice\"\n  }, \"#\"), \"type StringSlice\"), mdx(\"h3\", {\n    \"id\": \"type-stringbuilder\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-stringbuilder\"\n  }, \"#\"), \"type StringBuilder\"), mdx(\"h3\", {\n    \"id\": \"func-new_string_builder\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-new_string_builder\"\n  }, \"#\"), \"func new_string_builder\"), mdx(\"h2\", {\n    \"id\": \"input-and-output\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#input-and-output\"\n  }, \"#\"), \"Input and output\"), mdx(\"h3\", {\n    \"id\": \"func-print\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-print\"\n  }, \"#\"), \"func print\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func print(values...: Value...);\\n\")), mdx(\"p\", null, \"Prints the given values followed by a new line.\"), mdx(\"h3\", {\n    \"id\": \"func-loop_timestamp\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-loop_timestamp\"\n  }, \"#\"), \"func loop_timestamp\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func loop_timestamp(): Integer;\\n\")), mdx(\"p\", null, \"Returns the current loop timestamp.\"), mdx(\"p\", null, \"The returned value is the number of \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"milliseconds\"), \" since some arbitrary starting point - usually the start of the program - until the start of the current main loop iteration.\\nThe value is guaranteed to be \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"monotonic\"), \", i.e. it will never decrease.\"), mdx(\"p\", null, \"The loop timestamp is refreshed on every iteration of the runtime's main loop.\\nA single iteration involves calling all ready coroutines and continues until all coroutines are either done or waiting for the completion of an asynchronous function.\"), mdx(\"p\", null, \"Within the same iteration, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"loop_timestamp()\"), \" will always return the same value.\"), mdx(\"h2\", {\n    \"id\": \"coroutines\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#coroutines\"\n  }, \"#\"), \"Coroutines\"), mdx(\"p\", null, \"Tiro's coroutines implement \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://en.wikipedia.org/wiki/Cooperative_multitasking\"\n  }, \"cooperative multitasking\"), \" within a shared operating system thread.\\nThis means that a coroutine will continue running until it gives up control voluntarily.\\nIt will never be preempted by a scheduler behind the scenes.\"), mdx(\"p\", null, \"In order to give up control (also called \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"yielding\"), \"), a coroutine can perform one of the following actions:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Call an asynchronous function.\\nAsynchronous functions usually yield behind the scenes automatically, transparent to the caller.\\nThey can be implemented in native code or by using the the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#func-yield_coroutine\"\n  }, \"yield_coroutine()\"), \" function (like the function \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"lock()\"), \" in the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#mutex-example\"\n  }, \"mutex example\"), \").\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"While an asynchronous function waits for its completion, other coroutines can execute on the shared operating system thread.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Call \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#func-dispatch\"\n  }, \"dispatch()\"), \".\\nOther coroutines that are ready to execute will have the chance to run.\\nThe current coroutine will resume execution once those coroutines have yielded.\"), mdx(\"p\", {\n    parentName: \"li\"\n  }, \"It can be useful to invoke \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"dispatch()\"), \" in potentially long loops to avoid blocking the system for too long.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Call \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#func-yield_coroutine\"\n  }, \"yield_coroutine()\"), \".\\nThis will stop the coroutine until it has been manually resumed by another coroutine.\\nCare must be taken when using this primitive function!\"))), mdx(\"h3\", {\n    \"id\": \"type-coroutine\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-coroutine\"\n  }, \"#\"), \"type Coroutine\"), mdx(\"p\", null, \"Coroutines represent lightweight threads of execution within a single operating system thread.\\nThey are created through the native API or by calling \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"std.launch()\"), \".\"), mdx(\"h3\", {\n    \"id\": \"type-coroutinetoken\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-coroutinetoken\"\n  }, \"#\"), \"type CoroutineToken\"), mdx(\"h3\", {\n    \"id\": \"func-current_coroutine\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-current_coroutine\"\n  }, \"#\"), \"func current_coroutine\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func current_coroutine(): Coroutine;\\n\")), mdx(\"p\", null, \"Returns the current \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#type-coroutine\"\n  }, \"Coroutine\"), \" instance, i.e. the coroutine from which \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"current_coroutine()\"), \" was called.\"), mdx(\"h3\", {\n    \"id\": \"func-launch\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-launch\"\n  }, \"#\"), \"func launch\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func launch(fn: Function, args...: Value...): Coroutine;\\n\")), mdx(\"p\", null, \"Executes \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fn(args...)\"), \" from within a new coroutine.\\nThe coroutine instance is returned by this function.\"), mdx(\"p\", null, \"TODO: Should we return a future instead?\"), mdx(\"h3\", {\n    \"id\": \"func-dispatch\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-dispatch\"\n  }, \"#\"), \"func dispatch\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func dispatch();\\n\")), mdx(\"p\", null, \"Dispatches to other ready coroutines.\\nThe current coroutine will resume execution after all other ready coroutines had the opportunity to run.\"), mdx(\"h3\", {\n    \"id\": \"func-coroutine_token\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-coroutine_token\"\n  }, \"#\"), \"func coroutine_token\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func coroutine_token(): CoroutineToken;\\n\")), mdx(\"p\", null, \"Returns a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#type-coroutinetoken\"\n  }, \"CoroutineToken\"), \" instance suitable for resuming the current coroutine.\\nCoroutine tokens are invalidated after the coroutine has been resumed again.\\nSee \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#func-yield_coroutine\"\n  }, \"yield_coroutine()\"), \" for an example.\"), mdx(\"p\", null, \"WARNING: This is a low level API designed to control the execution of a coroutine manually.\\nIt should only be used to create new asynchronous abstractions.\"), mdx(\"h3\", {\n    \"id\": \"func-yield_coroutine\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-yield_coroutine\"\n  }, \"#\"), \"func yield_coroutine\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func yield_coroutine();\\n\")), mdx(\"p\", null, \"Immediately pauses execution of the current coroutine.\\nExecution will only continue once the coroutine has been resumed via a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#type-coroutinetoken\"\n  }, \"CoroutineToken\"), \" previously obtained from \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#func-coroutine_token\"\n  }, \"coroutine_token()\"), \".\"), mdx(\"p\", null, \"WARNING: This is a low level API designed to control the execution of a coroutine manually.\\nIt should only be used to create new asynchronous abstractions.\"), mdx(\"a\", {\n    id: \"mutex-example\"\n  }), mdx(\"span\", {\n    className: \"caption\"\n  }, \"Example: a simple Mutex\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"import std;\\n\\nexport func main() {\\n    const mutex = createMutex();\\n    const task = func(id) {\\n        for var i = 0; i \u003c 3; i += 1 {\\n            mutex.lock();\\n            std.print(\\\"Hello from ${id}\\\");\\n            std.dispatch(); // Other coroutine can observe a locked mutex\\n            mutex.unlock();\\n        }\\n    };\\n\\n    std.launch(task, \\\"1\\\");\\n    std.launch(task, \\\"2\\\");\\n}\\n\\n// Creates a simplistic mutex that only supports two coroutines.\\nfunc createMutex() {\\n    // Coroutine token if another coroutine is already waiting.\\n    var waiter = null;\\n    var locked = false;\\n\\n    return (\\n        lock: func() {\\n            if locked {\\n                if waiter != null {\\n                    std.panic(\\\"Cannot support more than one waiter\\\");\\n                }\\n                // Wait until the other coroutine unlocks.\\n                waiter = std.coroutine_token();\\n                std.yield_coroutine();\\n            }\\n            // At this point, either the mutex wasn't initially locked\\n            // or yield_coroutine() returned, i.e. the other coroutine unlocked.\\n            assert(!locked);\\n            locked = true;\\n        },\\n        unlock: func() {\\n            if !locked {\\n                std.panic(\\\"Mutex was not locked\\\");\\n            }\\n            locked = false;\\n            if waiter {\\n                waiter.resume();\\n                waiter = null;\\n            }\\n            // Give other coroutines the opportunity to run\\n            std.dispatch();\\n        }\\n    );\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"error-handling\"\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#error-handling\"\n  }, \"#\"), \"Error handling\"), mdx(\"h3\", {\n    \"id\": \"type-result\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-result\"\n  }, \"#\"), \"type Result\"), mdx(\"p\", null, \"A result represents the result of an operation that may fail.\\nThe result type is the basic primitive type used in tiro's error handling facilities.\"), mdx(\"p\", null, \"Results may be in one of two states:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Success\"), \". Calling \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"result.value()\"), \" returns the result of the operation.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, mdx(\"em\", {\n    parentName: \"p\"\n  }, \"Failure\"), \". Calling \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"result.reason()\"), \" returns a value explaining why the operation failed.\"))), mdx(\"p\", null, \"Results are constructed by calling the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#func-success\"\n  }, \"success()\"), \" and \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#func-failure\"\n  }, \"failure()\"), \" functions.\"), mdx(\"span\", {\n    className: \"caption\"\n  }, \"Example: simple error handling\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"import std;\\n\\nexport func main() {\\n    const result1 = operation(5);\\n    std.print(result1.type(), result1.value()); // #success 10\\n\\n    const result2 = operation(-5);\\n    std.print(result2.type(), result2.reason()); // #failure value too small!\\n}\\n\\nfunc operation(n) {\\n     if (n \u003c 0) {\\n        return std.failure(\\\"value too small!\\\");\\n    } else {\\n        return std.success(n * 2);\\n    }\\n}\\n\")), mdx(\"h4\", {\n    \"id\": \"func-resulttype\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-resulttype\"\n  }, \"#\"), \"func Result.type\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Result.type(): Symbol;\\n\")), mdx(\"p\", null, \"Returns either \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"#success\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"#failure\"), \", depending on the result's state.\"), mdx(\"h4\", {\n    \"id\": \"func-resultis_success\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-resultis_success\"\n  }, \"#\"), \"func Result.is_success\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Result.is_success(): Boolean;\\n\")), mdx(\"p\", null, \"Returns \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"true\"), \" if the result represents success, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"false\"), \" otherwise.\"), mdx(\"h4\", {\n    \"id\": \"func-resultis_failure\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-resultis_failure\"\n  }, \"#\"), \"func Result.is_failure\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Result.is_failure(): Boolean;\\n\")), mdx(\"p\", null, \"Returns \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"true\"), \" if the result represents failure, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"false\"), \" otherwise.\"), mdx(\"h4\", {\n    \"id\": \"func-resultvalue\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-resultvalue\"\n  }, \"#\"), \"func Result.value\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Result.value(): Value;\\n\")), mdx(\"p\", null, \"Returns the result's value.\\nRequires that the result represents success.\"), mdx(\"h4\", {\n    \"id\": \"func-resultreason\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-resultreason\"\n  }, \"#\"), \"func Result.reason\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Result.reason(): Value;\\n\")), mdx(\"p\", null, \"Returns the result's reason.\\nRequires that the result represents failure.\"), mdx(\"h3\", {\n    \"id\": \"func-success\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-success\"\n  }, \"#\"), \"func success\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func success(value: Value): Result;\\n\")), mdx(\"p\", null, \"Returns a new successful \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#type-result\"\n  }, \"Result\"), \" that holds the given \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"value\"), \".\"), mdx(\"h3\", {\n    \"id\": \"func-failure\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-failure\"\n  }, \"#\"), \"func failure\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func failure(reason: value): Result;\\n\")), mdx(\"p\", null, \"Returns a new failure \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#type-result\"\n  }, \"Result\"), \" that holds the given \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"reason\"), \".\"), mdx(\"h3\", {\n    \"id\": \"type-exception\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#type-exception\"\n  }, \"#\"), \"type Exception\"), mdx(\"p\", null, \"Exceptions represent unexpected (and often fatal) errors encountered during program execution.\\nThey are generated when code panics, for example by calling \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#func-panic\"\n  }, \"panic()\"), \".\"), mdx(\"p\", null, \"It is often preferable to use the less intrusive \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#type-result\"\n  }, \"Result\"), \" type instead.\\nPanicking should be reserved for signaling critical error conditions such as programming errors.\"), mdx(\"p\", null, \"TODO: Other properties (stack trace, user data, secondary exceptions)\"), mdx(\"h4\", {\n    \"id\": \"func-exceptionmessage\"\n  }, mdx(\"a\", {\n    parentName: \"h4\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-exceptionmessage\"\n  }, \"#\"), \"func Exception.message\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func Exception.message(): String;\\n\")), mdx(\"p\", null, \"Returns the exception's error message.\"), mdx(\"h3\", {\n    \"id\": \"func-panic\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-panic\"\n  }, \"#\"), \"func panic\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func panic(message: String);\\n\")), mdx(\"p\", null, \"Immediately aborts execution of the current function with an error explained by \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"message\"), \".\\nFrom within the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"panic\"), \" function, a new \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#type-exception\"\n  }, \"Exception\"), \" is constructed with the given \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"message\"), \" and \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://en.wikipedia.org/wiki/Call_stack#Unwinding\"\n  }, \"stack unwinding\"), \" is started.\\nUnwinding can be stopped by using the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#func-catch_panic\"\n  }, \"catch_panic\"), \" function.\"), mdx(\"p\", null, \"This function is designed to report \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"unexpected\"), \" errors such as programming errors.\\nUse the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#type-result\"\n  }, \"Result\"), \" type instead if errors can be expected, e.g. to report missing files.\"), mdx(\"h3\", {\n    \"id\": \"func-catch_panic\"\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"className\": \"anchor-link\",\n    \"href\": \"#func-catch_panic\"\n  }, \"#\"), \"func catch_panic\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"func catch_panic(fn: Function): Result;\\n\")), mdx(\"p\", null, \"Invokes \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fn()\"), \" and stops propagation of any non-fatal panic thrown by \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fn\"), \" or its callees.\\nAfter execution of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fn()\"), \" completes (either through panic or through normal return), a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"#type-result\"\n  }, \"Result\"), \" is returned:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"fn\"), \" returned normally, its return value is wrapped into a success result and returned.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If a panic was caught, a failure result is returned. The result's \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"reason\"), \" is set to the caught value.\")), mdx(\"span\", {\n    className: \"caption\"\n  }, \"Example: catching a panic from a function\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"import std;\\n\\nexport func main() {\\n    const result = std.catch_panic(may_fail);\\n    if (result.is_success()) {\\n        std.print(\\\"success:\\\", result.value());\\n    } else {\\n        std.print(\\\"failure:\\\", result.reason().message());\\n    }\\n}\\n\\nfunc may_fail() {\\n    // Replace `false` with `true` to return normally\\n    if (false) {\\n        return 42;\\n    } else {\\n        std.panic(\\\"help!\\\");\\n    }\\n}\\n\")));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003ch1 id=\"the-standard-library\"\u003e\u003ca class=\"anchor-link\" href=\"#the-standard-library\"\u003e#\u003c/a\u003eThe standard library\u003c/h1\u003e\u003cp\u003eBasic types and functions provided by the runtime.\u003c/p\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eimport std;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"contents\"\u003e\u003ca class=\"anchor-link\" href=\"#contents\"\u003e#\u003c/a\u003eContents\u003c/h2\u003e\u003cul\u003e\u003cli\u003e\u003cp\u003e\u003ca href=\"#basic-types-and-functions\"\u003eBasic types and functions\u003c/a\u003e\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"#type-boolean\"\u003etype Boolean\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#type-integer\"\u003etype Integer\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#type-float\"\u003etype Float\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#type-null\"\u003etype Null\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#type-symbol\"\u003etype Symbol\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#type-function\"\u003etype Function\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#type-module\"\u003etype Module\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#type-nativeobject\"\u003etype NativeObject\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#type-nativepointer\"\u003etype NativePointer\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#type-type\"\u003etype Type\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#func-type_of\"\u003efunc type_of\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003ca href=\"#containers\"\u003eContainers\u003c/a\u003e\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"#type-tuple\"\u003etype Tuple\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#type-record\"\u003etype Record\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#type-array\"\u003etype Array\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#type-buffer\"\u003etype Buffer\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#type-map\"\u003etype Map\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#type-set\"\u003etype Set\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003ca href=\"#strings\"\u003eStrings\u003c/a\u003e\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"#type-string\"\u003etype String\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#type-stringslice\"\u003etype StringSlice\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#type-stringbuilder\"\u003etype StringBuilder\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#func-new_string_builder\"\u003efunc new_string_builder\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003ca href=\"#input-and-output\"\u003eInput and output\u003c/a\u003e\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"#func-print\"\u003efunc print\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#func-loop_timestamp\"\u003efunc loop_timestamp\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003ca href=\"#coroutines\"\u003eCoroutines\u003c/a\u003e\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"#type-coroutine\"\u003etype Coroutine\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#type-coroutinetoken\"\u003etype CoroutineToken\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#func-current_coroutine\"\u003efunc current_coroutine\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#func-launch\"\u003efunc launch\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#func-dispatch\"\u003efunc dispatch\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#func-coroutine_token\"\u003efunc coroutine_token\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#func-yield_coroutine\"\u003efunc yield_coroutine\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003ca href=\"#error-handling\"\u003eError handling\u003c/a\u003e\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003ca href=\"#type-result\"\u003etype Result\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#func-success\"\u003efunc success\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#func-failure\"\u003efunc failure\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#type-exception\"\u003etype Exception\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#func-panic\"\u003efunc panic\u003c/a\u003e\u003c/li\u003e\u003cli\u003e\u003ca href=\"#func-catch_panic\"\u003efunc catch_panic\u003c/a\u003e\u003c/li\u003e\u003c/ul\u003e\u003c/li\u003e\u003c/ul\u003e\u003ch2 id=\"basic-types-and-functions\"\u003e\u003ca class=\"anchor-link\" href=\"#basic-types-and-functions\"\u003e#\u003c/a\u003eBasic types and functions\u003c/h2\u003e\u003ch3 id=\"type-boolean\"\u003e\u003ca class=\"anchor-link\" href=\"#type-boolean\"\u003e#\u003c/a\u003etype Boolean\u003c/h3\u003e\u003cp\u003eThe type of \u003ccode\u003etrue\u003c/code\u003e and \u003ccode\u003efalse\u003c/code\u003e.\u003c/p\u003e\u003ch3 id=\"type-integer\"\u003e\u003ca class=\"anchor-link\" href=\"#type-integer\"\u003e#\u003c/a\u003etype Integer\u003c/h3\u003e\u003cp\u003eThe type of integer expressions such as \u003ccode\u003e7\u003c/code\u003e or \u003ccode\u003e0x1F\u003c/code\u003e.\u003c/p\u003e\u003ch3 id=\"type-float\"\u003e\u003ca class=\"anchor-link\" href=\"#type-float\"\u003e#\u003c/a\u003etype Float\u003c/h3\u003e\u003cp\u003eType type of floating point expressions such as \u003ccode\u003e1.25\u003c/code\u003e.\u003c/p\u003e\u003ch3 id=\"type-null\"\u003e\u003ca class=\"anchor-link\" href=\"#type-null\"\u003e#\u003c/a\u003etype Null\u003c/h3\u003e\u003cp\u003eThe type of the constant \u003ccode\u003enull\u003c/code\u003e.\u003c/p\u003e\u003ch3 id=\"type-symbol\"\u003e\u003ca class=\"anchor-link\" href=\"#type-symbol\"\u003e#\u003c/a\u003etype Symbol\u003c/h3\u003e\u003cp\u003eThe type of symbol literals, e.g. \u003ccode\u003e#answer\u003c/code\u003e.\u003c/p\u003e\u003ch3 id=\"type-function\"\u003e\u003ca class=\"anchor-link\" href=\"#type-function\"\u003e#\u003c/a\u003etype Function\u003c/h3\u003e\u003cp\u003eThe type of all functions.\u003c/p\u003e\u003ch3 id=\"type-module\"\u003e\u003ca class=\"anchor-link\" href=\"#type-module\"\u003e#\u003c/a\u003etype Module\u003c/h3\u003e\u003cp\u003eThe type of all modules:\u003c/p\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eimport std;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e// std.type_of(std) == std.Module\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"type-nativeobject\"\u003e\u003ca class=\"anchor-link\" href=\"#type-nativeobject\"\u003e#\u003c/a\u003etype NativeObject\u003c/h3\u003e\u003cp\u003eThe type of native objects that have been exposed to tiro.\nThe tiro runtime manages the lifetime (and the storage) of these objects, which usually includes invoking a native finalizer when the object is collected.\u003c/p\u003e\u003ch3 id=\"type-nativepointer\"\u003e\u003ca class=\"anchor-link\" href=\"#type-nativepointer\"\u003e#\u003c/a\u003etype NativePointer\u003c/h3\u003e\u003cp\u003eThe type of a native pointer that has been exposed to tiro.\nThe tiro runtime does \u003cem\u003enot\u003c/em\u003e manage these objects in any way, which makes them very cheap to use.\u003c/p\u003e\u003ch3 id=\"type-type\"\u003e\u003ca class=\"anchor-link\" href=\"#type-type\"\u003e#\u003c/a\u003etype Type\u003c/h3\u003e\u003cp\u003eThe type of all types. In other words, \u003ccode\u003estd.type_of(value)\u003c/code\u003e will always return an instance of this type for any kind of value.\u003c/p\u003e\u003ch3 id=\"func-type_of\"\u003e\u003ca class=\"anchor-link\" href=\"#func-type_of\"\u003e#\u003c/a\u003efunc type_of\u003c/h3\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc type_of(v: Value): Type;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns the type of \u003ccode\u003ev\u003c/code\u003e. For example:\u003c/p\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eassert(std.type_of(true) == std.Boolean);\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"containers\"\u003e\u003ca class=\"anchor-link\" href=\"#containers\"\u003e#\u003c/a\u003eContainers\u003c/h2\u003e\u003ch3 id=\"type-tuple\"\u003e\u003ca class=\"anchor-link\" href=\"#type-tuple\"\u003e#\u003c/a\u003etype Tuple\u003c/h3\u003e\u003cp\u003eThe type of all tuples, e.g. \u003ccode\u003e()\u003c/code\u003e, \u003ccode\u003e(1,)\u003c/code\u003e or \u003ccode\u003e(1, 2)\u003c/code\u003e.\u003c/p\u003e\u003ch3 id=\"type-record\"\u003e\u003ca class=\"anchor-link\" href=\"#type-record\"\u003e#\u003c/a\u003etype Record\u003c/h3\u003e\u003cp\u003eThe type of all records, e.g. \u003ccode\u003e(:)\u003c/code\u003e or \u003ccode\u003e(foo: \u0026quot;bar\u0026quot;)\u003c/code\u003e.\u003c/p\u003e\u003ch3 id=\"type-array\"\u003e\u003ca class=\"anchor-link\" href=\"#type-array\"\u003e#\u003c/a\u003etype Array\u003c/h3\u003e\u003cp\u003eThe type of all arrays, e.g. \u003ccode\u003e[]\u003c/code\u003e and \u003ccode\u003e[a, b, c]\u003c/code\u003e.\u003c/p\u003e\u003cp\u003eAn array is a dynamic sequence of items that can grow or shrink as needed.\nExisting items can be read or written using the indexing operator, e.g. \u003ccode\u003econst first = array[0]\u003c/code\u003e or \u003ccode\u003earray[0] = \u0026quot;first\u0026quot;\u003c/code\u003e.\nThe sequence of items can be manipulated using the methods below.\u003c/p\u003e\u003ch4 id=\"func-arraysize\"\u003e\u003ca class=\"anchor-link\" href=\"#func-arraysize\"\u003e#\u003c/a\u003efunc Array.size\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Array.size(): Integer;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns the number of items in the array.\u003c/p\u003e\u003ch4 id=\"func-arrayappend\"\u003e\u003ca class=\"anchor-link\" href=\"#func-arrayappend\"\u003e#\u003c/a\u003efunc Array.append\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Array.append(v: Value);\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eAppends \u003ccode\u003ev\u003c/code\u003e to the array.\u003c/p\u003e\u003ch4 id=\"func-arrayclear\"\u003e\u003ca class=\"anchor-link\" href=\"#func-arrayclear\"\u003e#\u003c/a\u003efunc Array.clear\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Array.clear()\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eRemoves all items from the array.\u003c/p\u003e\u003ch3 id=\"type-buffer\"\u003e\u003ca class=\"anchor-link\" href=\"#type-buffer\"\u003e#\u003c/a\u003etype Buffer\u003c/h3\u003e\u003cp\u003eBuffers reference a raw region of memory, i.e. a blog of bytes.\nThey are especially useful when doing I/O or when manipulating large amounts of data.\u003c/p\u003e\u003cp\u003eTODO: usage\u003c/p\u003e\u003ch4 id=\"func-buffersize\"\u003e\u003ca class=\"anchor-link\" href=\"#func-buffersize\"\u003e#\u003c/a\u003efunc Buffer.size\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Buffer.size(): Integer;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns the number of items in the buffer.\u003c/p\u003e\u003ch3 id=\"type-map\"\u003e\u003ca class=\"anchor-link\" href=\"#type-map\"\u003e#\u003c/a\u003etype Map\u003c/h3\u003e\u003cp\u003eA map is a container that associates \u003cem\u003ekeys\u003c/em\u003e with \u003cem\u003evalues\u003c/em\u003e.\nThe key-value associations can be manipulated at will.\nGiven a key, a map allows for efficient lookup (and update) of the associated value.\u003c/p\u003e\u003cp\u003eMaps are implemented as \u003ca href=\"https://en.wikipedia.org/wiki/Hash_table\" rel=\"noopener noreferrer\" target=\"_blank\"\u003e\u003cspan icon=\"share\" style=\"vertical-align:baseline;padding-right:4px\" class=\"bp3-icon bp3-icon-share\"\u003e\u003csvg data-icon=\"share\" width=\"12\" height=\"12\" viewBox=\"0 0 16 16\"\u003e\u003cdesc\u003eshare\u003c/desc\u003e\u003cpath d=\"M10.99 13.99h-9v-9h4.76l2-2H.99c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h11c.55 0 1-.45 1-1V7.24l-2 2v4.75zm4-14h-5c-.55 0-1 .45-1 1s.45 1 1 1h2.59L7.29 7.28a1 1 0 00-.3.71 1.003 1.003 0 001.71.71l5.29-5.29V6c0 .55.45 1 1 1s1-.45 1-1V1c0-.56-.45-1.01-1-1.01z\" fill-rule=\"evenodd\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003ehash tables\u003c/a\u003e.\u003c/p\u003e\u003ch4 id=\"map-insertion-order\"\u003e\u003ca class=\"anchor-link\" href=\"#map-insertion-order\"\u003e#\u003c/a\u003eInsertion order\u003c/h4\u003e\u003cp\u003eContrary to most other hash table implementations, tiro\u0026#x27;s map preserves the insertion order of its mappings.\nWhen iterating a map, keys and values are visited in the order in which they were inserted:\u003c/p\u003e\u003cul\u003e\u003cli\u003eA new key-value mapping (i.e. a key that was not already in the map) is always inserted at the end.\u003c/li\u003e\u003cli\u003eUpdating an existing key-value mapping (i.e. key already exists in the map) does not change its order in the map.\u003c/li\u003e\u003cli\u003eRemoving a key-value mapping preserves the order of all remaining mappings.\u003c/li\u003e\u003c/ul\u003e\u003cspan class=\"caption\"\u003eExample: iterating over a map\u003c/span\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eimport std;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eexport func main() {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    const m = map{};\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    m[1] = \u0026quot;one\u0026quot;;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    m[2] = \u0026quot;two\u0026quot;;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    m[3] = \u0026quot;three\u0026quot;;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    // Guaranteed output:\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    // 1 one\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    // 2 two\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    // 3 three\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    for (key, value) in m {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e        std.print(key, value);\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e}\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch4 id=\"func-mapsize\"\u003e\u003ca class=\"anchor-link\" href=\"#func-mapsize\"\u003e#\u003c/a\u003efunc Map.size\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Map.size(): Integer;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns the number of key-value mappings in the map.\u003c/p\u003e\u003ch4 id=\"func-mapcontains\"\u003e\u003ca class=\"anchor-link\" href=\"#func-mapcontains\"\u003e#\u003c/a\u003efunc Map.contains\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Map.contains(key: Value): Boolean;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns \u003ccode\u003etrue\u003c/code\u003e if there is a value associated with \u003ccode\u003ekey\u003c/code\u003e, \u003ccode\u003efalse\u003c/code\u003e otherwise.\u003c/p\u003e\u003ch4 id=\"func-mapkeys\"\u003e\u003ca class=\"anchor-link\" href=\"#func-mapkeys\"\u003e#\u003c/a\u003efunc Map.keys\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Map.keys(): Iterable;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns an iterable view over the keys within the map.\nThe iteration order is the same as the map\u0026#x27;s order.\u003c/p\u003e\u003ch4 id=\"func-mapvalues\"\u003e\u003ca class=\"anchor-link\" href=\"#func-mapvalues\"\u003e#\u003c/a\u003efunc Map.values\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Map.values(): Iterable;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns an iterable view over the values within the map.\nThe iteration order is the same as the map\u0026#x27;s order.\u003c/p\u003e\u003ch4 id=\"func-mapclear\"\u003e\u003ca class=\"anchor-link\" href=\"#func-mapclear\"\u003e#\u003c/a\u003efunc Map.clear\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Map.clear();\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eRemoves all key-value mappings from the map.\u003c/p\u003e\u003ch4 id=\"func-mapremove\"\u003e\u003ca class=\"anchor-link\" href=\"#func-mapremove\"\u003e#\u003c/a\u003efunc Map.remove\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Map.remove(key: Value);\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eRemoves the key-value mapping for \u003ccode\u003ekey\u003c/code\u003e.\nDoes nothing if there is no such mapping.\u003c/p\u003e\u003cp\u003eTODO: Return true/false?\u003c/p\u003e\u003ch3 id=\"type-set\"\u003e\u003ca class=\"anchor-link\" href=\"#type-set\"\u003e#\u003c/a\u003etype Set\u003c/h3\u003e\u003cp\u003eA set is a container that stores unique items.\nItems can be inserted or removed at will, and their existence can be tested efficiently.\u003c/p\u003e\u003cp\u003eLike maps, they are implemented as \u003ca href=\"https://en.wikipedia.org/wiki/Hash_table\" rel=\"noopener noreferrer\" target=\"_blank\"\u003e\u003cspan icon=\"share\" style=\"vertical-align:baseline;padding-right:4px\" class=\"bp3-icon bp3-icon-share\"\u003e\u003csvg data-icon=\"share\" width=\"12\" height=\"12\" viewBox=\"0 0 16 16\"\u003e\u003cdesc\u003eshare\u003c/desc\u003e\u003cpath d=\"M10.99 13.99h-9v-9h4.76l2-2H.99c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h11c.55 0 1-.45 1-1V7.24l-2 2v4.75zm4-14h-5c-.55 0-1 .45-1 1s.45 1 1 1h2.59L7.29 7.28a1 1 0 00-.3.71 1.003 1.003 0 001.71.71l5.29-5.29V6c0 .55.45 1 1 1s1-.45 1-1V1c0-.56-.45-1.01-1-1.01z\" fill-rule=\"evenodd\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003ehash tables\u003c/a\u003e.\u003c/p\u003e\u003ch4 id=\"set-insertion-order\"\u003e\u003ca class=\"anchor-link\" href=\"#set-insertion-order\"\u003e#\u003c/a\u003eInsertion order\u003c/h4\u003e\u003cp\u003eWhen iterating a set, its items are visited in the order they were inserted in.\nSee also \u003ca href=\"#map-insertion-order\"\u003emap insertion order\u003c/a\u003e.\u003c/p\u003e\u003ch4 id=\"func-setsize\"\u003e\u003ca class=\"anchor-link\" href=\"#func-setsize\"\u003e#\u003c/a\u003efunc Set.size\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Set.size(): Integer;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns the number of items in the set.\u003c/p\u003e\u003ch4 id=\"func-setcontains\"\u003e\u003ca class=\"anchor-link\" href=\"#func-setcontains\"\u003e#\u003c/a\u003efunc Set.contains\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Set.contains(item: Value): Boolean;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns \u003ccode\u003etrue\u003c/code\u003e if the set contains \u003ccode\u003eitem\u003c/code\u003e, \u003ccode\u003efalse\u003c/code\u003e otherwise.\u003c/p\u003e\u003ch4 id=\"func-setclear\"\u003e\u003ca class=\"anchor-link\" href=\"#func-setclear\"\u003e#\u003c/a\u003efunc Set.clear\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Set.clear();\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eRemoves all items from the set.\u003c/p\u003e\u003ch4 id=\"func-setinsert\"\u003e\u003ca class=\"anchor-link\" href=\"#func-setinsert\"\u003e#\u003c/a\u003efunc Set.insert\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Set.insert(item: Value): Boolean;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eInserts \u003ccode\u003eitem\u003c/code\u003e into the set.\nReturns \u003ccode\u003etrue\u003c/code\u003e if item has been inserted, \u003ccode\u003efalse\u003c/code\u003e if it already existed.\u003c/p\u003e\u003ch4 id=\"func-setremove\"\u003e\u003ca class=\"anchor-link\" href=\"#func-setremove\"\u003e#\u003c/a\u003efunc Set.remove\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Set.remove(item: Value);\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eRemoves \u003ccode\u003eitem\u003c/code\u003e from the set.\nDoes nothing if \u003ccode\u003eitem\u003c/code\u003e does not exist in the set.\u003c/p\u003e\u003cp\u003eTODO: Return true/false?\u003c/p\u003e\u003ch2 id=\"strings\"\u003e\u003ca class=\"anchor-link\" href=\"#strings\"\u003e#\u003c/a\u003eStrings\u003c/h2\u003e\u003ch3 id=\"type-string\"\u003e\u003ca class=\"anchor-link\" href=\"#type-string\"\u003e#\u003c/a\u003etype String\u003c/h3\u003e\u003cp\u003eThe type of all string expressions.\nStrings are immutable.\u003c/p\u003e\u003cp\u003eTODO: Unicode strings\u003c/p\u003e\u003cp\u003eTODO: Internal representation is guaranteed to be UTF-8\u003c/p\u003e\u003ch3 id=\"type-stringslice\"\u003e\u003ca class=\"anchor-link\" href=\"#type-stringslice\"\u003e#\u003c/a\u003etype StringSlice\u003c/h3\u003e\u003ch3 id=\"type-stringbuilder\"\u003e\u003ca class=\"anchor-link\" href=\"#type-stringbuilder\"\u003e#\u003c/a\u003etype StringBuilder\u003c/h3\u003e\u003ch3 id=\"func-new_string_builder\"\u003e\u003ca class=\"anchor-link\" href=\"#func-new_string_builder\"\u003e#\u003c/a\u003efunc new_string_builder\u003c/h3\u003e\u003ch2 id=\"input-and-output\"\u003e\u003ca class=\"anchor-link\" href=\"#input-and-output\"\u003e#\u003c/a\u003eInput and output\u003c/h2\u003e\u003ch3 id=\"func-print\"\u003e\u003ca class=\"anchor-link\" href=\"#func-print\"\u003e#\u003c/a\u003efunc print\u003c/h3\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc print(values...: Value...);\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003ePrints the given values followed by a new line.\u003c/p\u003e\u003ch3 id=\"func-loop_timestamp\"\u003e\u003ca class=\"anchor-link\" href=\"#func-loop_timestamp\"\u003e#\u003c/a\u003efunc loop_timestamp\u003c/h3\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc loop_timestamp(): Integer;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns the current loop timestamp.\u003c/p\u003e\u003cp\u003eThe returned value is the number of \u003cem\u003emilliseconds\u003c/em\u003e since some arbitrary starting point - usually the start of the program - until the start of the current main loop iteration.\nThe value is guaranteed to be \u003cem\u003emonotonic\u003c/em\u003e, i.e. it will never decrease.\u003c/p\u003e\u003cp\u003eThe loop timestamp is refreshed on every iteration of the runtime\u0026#x27;s main loop.\nA single iteration involves calling all ready coroutines and continues until all coroutines are either done or waiting for the completion of an asynchronous function.\u003c/p\u003e\u003cp\u003eWithin the same iteration, \u003ccode\u003eloop_timestamp()\u003c/code\u003e will always return the same value.\u003c/p\u003e\u003ch2 id=\"coroutines\"\u003e\u003ca class=\"anchor-link\" href=\"#coroutines\"\u003e#\u003c/a\u003eCoroutines\u003c/h2\u003e\u003cp\u003eTiro\u0026#x27;s coroutines implement \u003ca href=\"https://en.wikipedia.org/wiki/Cooperative_multitasking\" rel=\"noopener noreferrer\" target=\"_blank\"\u003e\u003cspan icon=\"share\" style=\"vertical-align:baseline;padding-right:4px\" class=\"bp3-icon bp3-icon-share\"\u003e\u003csvg data-icon=\"share\" width=\"12\" height=\"12\" viewBox=\"0 0 16 16\"\u003e\u003cdesc\u003eshare\u003c/desc\u003e\u003cpath d=\"M10.99 13.99h-9v-9h4.76l2-2H.99c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h11c.55 0 1-.45 1-1V7.24l-2 2v4.75zm4-14h-5c-.55 0-1 .45-1 1s.45 1 1 1h2.59L7.29 7.28a1 1 0 00-.3.71 1.003 1.003 0 001.71.71l5.29-5.29V6c0 .55.45 1 1 1s1-.45 1-1V1c0-.56-.45-1.01-1-1.01z\" fill-rule=\"evenodd\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003ecooperative multitasking\u003c/a\u003e within a shared operating system thread.\nThis means that a coroutine will continue running until it gives up control voluntarily.\nIt will never be preempted by a scheduler behind the scenes.\u003c/p\u003e\u003cp\u003eIn order to give up control (also called \u003cem\u003eyielding\u003c/em\u003e), a coroutine can perform one of the following actions:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003cp\u003eCall an asynchronous function.\nAsynchronous functions usually yield behind the scenes automatically, transparent to the caller.\nThey can be implemented in native code or by using the the \u003ca href=\"#func-yield_coroutine\"\u003eyield_coroutine()\u003c/a\u003e function (like the function \u003ccode\u003elock()\u003c/code\u003e in the \u003ca href=\"#mutex-example\"\u003emutex example\u003c/a\u003e).\u003c/p\u003e\u003cp\u003eWhile an asynchronous function waits for its completion, other coroutines can execute on the shared operating system thread.\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003eCall \u003ca href=\"#func-dispatch\"\u003edispatch()\u003c/a\u003e.\nOther coroutines that are ready to execute will have the chance to run.\nThe current coroutine will resume execution once those coroutines have yielded.\u003c/p\u003e\u003cp\u003eIt can be useful to invoke \u003ccode\u003edispatch()\u003c/code\u003e in potentially long loops to avoid blocking the system for too long.\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003eCall \u003ca href=\"#func-yield_coroutine\"\u003eyield_coroutine()\u003c/a\u003e.\nThis will stop the coroutine until it has been manually resumed by another coroutine.\nCare must be taken when using this primitive function!\u003c/p\u003e\u003c/li\u003e\u003c/ul\u003e\u003ch3 id=\"type-coroutine\"\u003e\u003ca class=\"anchor-link\" href=\"#type-coroutine\"\u003e#\u003c/a\u003etype Coroutine\u003c/h3\u003e\u003cp\u003eCoroutines represent lightweight threads of execution within a single operating system thread.\nThey are created through the native API or by calling \u003ccode\u003estd.launch()\u003c/code\u003e.\u003c/p\u003e\u003ch3 id=\"type-coroutinetoken\"\u003e\u003ca class=\"anchor-link\" href=\"#type-coroutinetoken\"\u003e#\u003c/a\u003etype CoroutineToken\u003c/h3\u003e\u003ch3 id=\"func-current_coroutine\"\u003e\u003ca class=\"anchor-link\" href=\"#func-current_coroutine\"\u003e#\u003c/a\u003efunc current_coroutine\u003c/h3\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc current_coroutine(): Coroutine;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns the current \u003ca href=\"#type-coroutine\"\u003eCoroutine\u003c/a\u003e instance, i.e. the coroutine from which \u003ccode\u003ecurrent_coroutine()\u003c/code\u003e was called.\u003c/p\u003e\u003ch3 id=\"func-launch\"\u003e\u003ca class=\"anchor-link\" href=\"#func-launch\"\u003e#\u003c/a\u003efunc launch\u003c/h3\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc launch(fn: Function, args...: Value...): Coroutine;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eExecutes \u003ccode\u003efn(args...)\u003c/code\u003e from within a new coroutine.\nThe coroutine instance is returned by this function.\u003c/p\u003e\u003cp\u003eTODO: Should we return a future instead?\u003c/p\u003e\u003ch3 id=\"func-dispatch\"\u003e\u003ca class=\"anchor-link\" href=\"#func-dispatch\"\u003e#\u003c/a\u003efunc dispatch\u003c/h3\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc dispatch();\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eDispatches to other ready coroutines.\nThe current coroutine will resume execution after all other ready coroutines had the opportunity to run.\u003c/p\u003e\u003ch3 id=\"func-coroutine_token\"\u003e\u003ca class=\"anchor-link\" href=\"#func-coroutine_token\"\u003e#\u003c/a\u003efunc coroutine_token\u003c/h3\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc coroutine_token(): CoroutineToken;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns a \u003ca href=\"#type-coroutinetoken\"\u003eCoroutineToken\u003c/a\u003e instance suitable for resuming the current coroutine.\nCoroutine tokens are invalidated after the coroutine has been resumed again.\nSee \u003ca href=\"#func-yield_coroutine\"\u003eyield_coroutine()\u003c/a\u003e for an example.\u003c/p\u003e\u003cp\u003eWARNING: This is a low level API designed to control the execution of a coroutine manually.\nIt should only be used to create new asynchronous abstractions.\u003c/p\u003e\u003ch3 id=\"func-yield_coroutine\"\u003e\u003ca class=\"anchor-link\" href=\"#func-yield_coroutine\"\u003e#\u003c/a\u003efunc yield_coroutine\u003c/h3\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc yield_coroutine();\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eImmediately pauses execution of the current coroutine.\nExecution will only continue once the coroutine has been resumed via a \u003ca href=\"#type-coroutinetoken\"\u003eCoroutineToken\u003c/a\u003e previously obtained from \u003ca href=\"#func-coroutine_token\"\u003ecoroutine_token()\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eWARNING: This is a low level API designed to control the execution of a coroutine manually.\nIt should only be used to create new asynchronous abstractions.\u003c/p\u003e\u003ca id=\"mutex-example\"\u003e\u003c/a\u003e\u003cspan class=\"caption\"\u003eExample: a simple Mutex\u003c/span\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eimport std;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eexport func main() {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    const mutex = createMutex();\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    const task = func(id) {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e        for var i = 0; i \u0026lt; 3; i += 1 {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e            mutex.lock();\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e            std.print(\u0026quot;Hello from ${id}\u0026quot;);\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e            std.dispatch(); // Other coroutine can observe a locked mutex\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e            mutex.unlock();\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e        }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    };\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    std.launch(task, \u0026quot;1\u0026quot;);\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    std.launch(task, \u0026quot;2\u0026quot;);\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e}\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e// Creates a simplistic mutex that only supports two coroutines.\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc createMutex() {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    // Coroutine token if another coroutine is already waiting.\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    var waiter = null;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    var locked = false;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    return (\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e        lock: func() {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e            if locked {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e                if waiter != null {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e                    std.panic(\u0026quot;Cannot support more than one waiter\u0026quot;);\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e                }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e                // Wait until the other coroutine unlocks.\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e                waiter = std.coroutine_token();\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e                std.yield_coroutine();\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e            }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e            // At this point, either the mutex wasn\u0026#x27;t initially locked\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e            // or yield_coroutine() returned, i.e. the other coroutine unlocked.\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e            assert(!locked);\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e            locked = true;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e        },\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e        unlock: func() {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e            if !locked {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e                std.panic(\u0026quot;Mutex was not locked\u0026quot;);\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e            }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e            locked = false;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e            if waiter {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e                waiter.resume();\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e                waiter = null;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e            }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e            // Give other coroutines the opportunity to run\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e            std.dispatch();\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e        }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    );\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e}\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch2 id=\"error-handling\"\u003e\u003ca class=\"anchor-link\" href=\"#error-handling\"\u003e#\u003c/a\u003eError handling\u003c/h2\u003e\u003ch3 id=\"type-result\"\u003e\u003ca class=\"anchor-link\" href=\"#type-result\"\u003e#\u003c/a\u003etype Result\u003c/h3\u003e\u003cp\u003eA result represents the result of an operation that may fail.\nThe result type is the basic primitive type used in tiro\u0026#x27;s error handling facilities.\u003c/p\u003e\u003cp\u003eResults may be in one of two states:\u003c/p\u003e\u003cul\u003e\u003cli\u003e\u003cp\u003e\u003cem\u003eSuccess\u003c/em\u003e. Calling \u003ccode\u003eresult.value()\u003c/code\u003e returns the result of the operation.\u003c/p\u003e\u003c/li\u003e\u003cli\u003e\u003cp\u003e\u003cem\u003eFailure\u003c/em\u003e. Calling \u003ccode\u003eresult.reason()\u003c/code\u003e returns a value explaining why the operation failed.\u003c/p\u003e\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eResults are constructed by calling the \u003ca href=\"#func-success\"\u003esuccess()\u003c/a\u003e and \u003ca href=\"#func-failure\"\u003efailure()\u003c/a\u003e functions.\u003c/p\u003e\u003cspan class=\"caption\"\u003eExample: simple error handling\u003c/span\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eimport std;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eexport func main() {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    const result1 = operation(5);\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    std.print(result1.type(), result1.value()); // #success 10\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    const result2 = operation(-5);\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    std.print(result2.type(), result2.reason()); // #failure value too small!\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e}\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc operation(n) {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e     if (n \u0026lt; 0) {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e        return std.failure(\u0026quot;value too small!\u0026quot;);\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    } else {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e        return std.success(n * 2);\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e}\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch4 id=\"func-resulttype\"\u003e\u003ca class=\"anchor-link\" href=\"#func-resulttype\"\u003e#\u003c/a\u003efunc Result.type\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Result.type(): Symbol;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns either \u003ccode\u003e#success\u003c/code\u003e or \u003ccode\u003e#failure\u003c/code\u003e, depending on the result\u0026#x27;s state.\u003c/p\u003e\u003ch4 id=\"func-resultis_success\"\u003e\u003ca class=\"anchor-link\" href=\"#func-resultis_success\"\u003e#\u003c/a\u003efunc Result.is_success\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Result.is_success(): Boolean;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns \u003ccode\u003etrue\u003c/code\u003e if the result represents success, \u003ccode\u003efalse\u003c/code\u003e otherwise.\u003c/p\u003e\u003ch4 id=\"func-resultis_failure\"\u003e\u003ca class=\"anchor-link\" href=\"#func-resultis_failure\"\u003e#\u003c/a\u003efunc Result.is_failure\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Result.is_failure(): Boolean;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns \u003ccode\u003etrue\u003c/code\u003e if the result represents failure, \u003ccode\u003efalse\u003c/code\u003e otherwise.\u003c/p\u003e\u003ch4 id=\"func-resultvalue\"\u003e\u003ca class=\"anchor-link\" href=\"#func-resultvalue\"\u003e#\u003c/a\u003efunc Result.value\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Result.value(): Value;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns the result\u0026#x27;s value.\nRequires that the result represents success.\u003c/p\u003e\u003ch4 id=\"func-resultreason\"\u003e\u003ca class=\"anchor-link\" href=\"#func-resultreason\"\u003e#\u003c/a\u003efunc Result.reason\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Result.reason(): Value;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns the result\u0026#x27;s reason.\nRequires that the result represents failure.\u003c/p\u003e\u003ch3 id=\"func-success\"\u003e\u003ca class=\"anchor-link\" href=\"#func-success\"\u003e#\u003c/a\u003efunc success\u003c/h3\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc success(value: Value): Result;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns a new successful \u003ca href=\"#type-result\"\u003eResult\u003c/a\u003e that holds the given \u003ccode\u003evalue\u003c/code\u003e.\u003c/p\u003e\u003ch3 id=\"func-failure\"\u003e\u003ca class=\"anchor-link\" href=\"#func-failure\"\u003e#\u003c/a\u003efunc failure\u003c/h3\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc failure(reason: value): Result;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns a new failure \u003ca href=\"#type-result\"\u003eResult\u003c/a\u003e that holds the given \u003ccode\u003ereason\u003c/code\u003e.\u003c/p\u003e\u003ch3 id=\"type-exception\"\u003e\u003ca class=\"anchor-link\" href=\"#type-exception\"\u003e#\u003c/a\u003etype Exception\u003c/h3\u003e\u003cp\u003eExceptions represent unexpected (and often fatal) errors encountered during program execution.\nThey are generated when code panics, for example by calling \u003ca href=\"#func-panic\"\u003epanic()\u003c/a\u003e.\u003c/p\u003e\u003cp\u003eIt is often preferable to use the less intrusive \u003ca href=\"#type-result\"\u003eResult\u003c/a\u003e type instead.\nPanicking should be reserved for signaling critical error conditions such as programming errors.\u003c/p\u003e\u003cp\u003eTODO: Other properties (stack trace, user data, secondary exceptions)\u003c/p\u003e\u003ch4 id=\"func-exceptionmessage\"\u003e\u003ca class=\"anchor-link\" href=\"#func-exceptionmessage\"\u003e#\u003c/a\u003efunc Exception.message\u003c/h4\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc Exception.message(): String;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eReturns the exception\u0026#x27;s error message.\u003c/p\u003e\u003ch3 id=\"func-panic\"\u003e\u003ca class=\"anchor-link\" href=\"#func-panic\"\u003e#\u003c/a\u003efunc panic\u003c/h3\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc panic(message: String);\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eImmediately aborts execution of the current function with an error explained by \u003ccode\u003emessage\u003c/code\u003e.\nFrom within the \u003ccode\u003epanic\u003c/code\u003e function, a new \u003ca href=\"#type-exception\"\u003eException\u003c/a\u003e is constructed with the given \u003ccode\u003emessage\u003c/code\u003e and \u003ca href=\"https://en.wikipedia.org/wiki/Call_stack#Unwinding\" rel=\"noopener noreferrer\" target=\"_blank\"\u003e\u003cspan icon=\"share\" style=\"vertical-align:baseline;padding-right:4px\" class=\"bp3-icon bp3-icon-share\"\u003e\u003csvg data-icon=\"share\" width=\"12\" height=\"12\" viewBox=\"0 0 16 16\"\u003e\u003cdesc\u003eshare\u003c/desc\u003e\u003cpath d=\"M10.99 13.99h-9v-9h4.76l2-2H.99c-.55 0-1 .45-1 1v11c0 .55.45 1 1 1h11c.55 0 1-.45 1-1V7.24l-2 2v4.75zm4-14h-5c-.55 0-1 .45-1 1s.45 1 1 1h2.59L7.29 7.28a1 1 0 00-.3.71 1.003 1.003 0 001.71.71l5.29-5.29V6c0 .55.45 1 1 1s1-.45 1-1V1c0-.56-.45-1.01-1-1.01z\" fill-rule=\"evenodd\"\u003e\u003c/path\u003e\u003c/svg\u003e\u003c/span\u003estack unwinding\u003c/a\u003e is started.\nUnwinding can be stopped by using the \u003ca href=\"#func-catch_panic\"\u003ecatch_panic\u003c/a\u003e function.\u003c/p\u003e\u003cp\u003eThis function is designed to report \u003cem\u003eunexpected\u003c/em\u003e errors such as programming errors.\nUse the \u003ca href=\"#type-result\"\u003eResult\u003c/a\u003e type instead if errors can be expected, e.g. to report missing files.\u003c/p\u003e\u003ch3 id=\"func-catch_panic\"\u003e\u003ca class=\"anchor-link\" href=\"#func-catch_panic\"\u003e#\u003c/a\u003efunc catch_panic\u003c/h3\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc catch_panic(fn: Function): Result;\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eInvokes \u003ccode\u003efn()\u003c/code\u003e and stops propagation of any non-fatal panic thrown by \u003ccode\u003efn\u003c/code\u003e or its callees.\nAfter execution of \u003ccode\u003efn()\u003c/code\u003e completes (either through panic or through normal return), a \u003ca href=\"#type-result\"\u003eResult\u003c/a\u003e is returned:\u003c/p\u003e\u003cul\u003e\u003cli\u003eIf \u003ccode\u003efn\u003c/code\u003e returned normally, its return value is wrapped into a success result and returned.\u003c/li\u003e\u003cli\u003eIf a panic was caught, a failure result is returned. The result\u0026#x27;s \u003ccode\u003ereason\u003c/code\u003e is set to the caught value.\u003c/li\u003e\u003c/ul\u003e\u003cspan class=\"caption\"\u003eExample: catching a panic from a function\u003c/span\u003e\u003cdiv\u003e\u003cpre class=\"prism-code language-plain\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa;padding:10px\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eimport std;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eexport func main() {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    const result = std.catch_panic(may_fail);\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    if (result.is_success()) {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e        std.print(\u0026quot;success:\u0026quot;, result.value());\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    } else {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e        std.print(\u0026quot;failure:\u0026quot;, result.reason().message());\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e}\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003efunc may_fail() {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    // Replace `false` with `true` to return normally\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    if (false) {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e        return 42;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    } else {\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e        std.panic(\u0026quot;help!\u0026quot;);\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    }\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e}\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/div\u003e","scope":{}}},"__N_SSG":true},"page":"/docs/[...slug]","query":{"slug":["stdlib"]},"buildId":"sCmKMo3RXSdkBBNfiH_wY","assetPrefix":"/tiro-website","runtimeConfig":{"basePath":"/tiro-website"},"isFallback":false,"gsp":true}</script><script nomodule="" src="/tiro-website/_next/static/chunks/polyfills-e60adda76fe4fc6fb7ca.js"></script><script src="/tiro-website/_next/static/chunks/webpack-2881d3cf8797bdd9b709.js" async=""></script><script src="/tiro-website/_next/static/chunks/framework.b8f98ae0cabfbf8d6dda.js" async=""></script><script src="/tiro-website/_next/static/chunks/commons.bb3c3f9483f19f40909f.js" async=""></script><script src="/tiro-website/_next/static/chunks/main-2f1b2414b74faf6ba6b9.js" async=""></script><script src="/tiro-website/_next/static/chunks/077bbc3e42b200d19aa8b06179d2d8d0a5231ac6.ff984f8c60fe69b3e789.js" async=""></script><script src="/tiro-website/_next/static/chunks/pages/_app-6bddbb204e2c029092d1.js" async=""></script><script src="/tiro-website/_next/static/chunks/6278397b.62a8d82b311f251ed8ed.js" async=""></script><script src="/tiro-website/_next/static/chunks/2c060dff92e6454490672d24ff1b5f7d837bc315.13eb4a17c0aa97d11b94.js" async=""></script><script src="/tiro-website/_next/static/chunks/cb62dbd6a1bdc0783d6bfd7347e6b2b91c6334b4.992769dde8c746c1f7be.js" async=""></script><script src="/tiro-website/_next/static/chunks/pages/docs/%5B...slug%5D-7e4978e5f3fca9e36e1b.js" async=""></script><script src="/tiro-website/_next/static/sCmKMo3RXSdkBBNfiH_wY/_buildManifest.js" async=""></script><script src="/tiro-website/_next/static/sCmKMo3RXSdkBBNfiH_wY/_ssgManifest.js" async=""></script></body></html>